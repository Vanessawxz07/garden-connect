# Grow a garden交易站需求框架


核心链路：满足交易站的用户核心诉求，围绕交易双方的主路径设计页面及功能

交易站的用户场景分两拨，主要分为买家和卖家，目前整个站点的主流程和页面信息内容侧重优先服务于买家视角。

**产品主路径主要包括**：
发布交易信息->交易信息撮合->进入交易流程（聊天中沟通）->双方到游戏中完成交易


## 道具信息基础库
游戏相关的道具内容数据库，道具的信息主要包括两种属性类型，基础属性和变量属性，基础属性通过https://growagarden.fandom.com 获取，为道具的基础信息在网站的信息库中展示；变量属性为发布交易需求的用户发布时填写，跟随用户的交易信息展示

道具的数据库主要用于用户发布交易时选择数据数据，网站交易道具信息的wiki展示，Calculator的交易价值模拟计算，前期可由运营一次性导入数据，定期更新数据内容

例如，葡萄作物的基础信息可以在以下链接中获得https://growagarden.fandom.com/wiki/Grape 

宠物兔子的基础信息可以在以下链接中获得
https://growagarden.fandom.com/wiki/Bunny 


## 交易信息发布

用户需要登录后才可发布交易信息，发布交易信息需执行以下操作：
1、登录
2、选择将要用来交易的道具
3、填入道具的参数，重量、商店售价、突变属性选取
4、上传道具的截图（可选）
5、选择交易条件，主要包括等待对方提出交易物品和要求交易物品两种方式
●等待对方提出交易物品是指买方需要主动提供offer，卖家可以选择是否接受，类似拍卖的制度
●设定交易时间
●卖家选择由买方提出offer时，可以设定买方提出offer的价值下限，交易的道具总价值低于XXX则不能提交
●要求交易物品是卖家有目标明确的交易诉求，买家能提供需要的道具就能直接开始交易
●有明确的交易诉求时，也需要选择想要获得的道具并填写参数，界面此时会根据站内的道具数据库展示出价值信息做对比，提示用户自行判断该笔交易是否合理
6、发布交易信息
7、交易信息发布后，如果在平台内匹配到同样交易诉求的对象，例如A需求竹子，用香蕉换，B需求香蕉用竹子换，则双方订单自动完成匹配，进入交易流程

## 交易信息撮合
首页、订单列表页设计目的是更快速让用户找到想买的道具，撮合用户交易信息


### 信息展示逻辑

用户可选择通过道具库中热门道具，进入道具的详情页来查看该道具下的交易信息，或者通过交易信息的维度来找到交易，默认通过道具库更效率，用户可通过tab切换不同的展示维度

1、交易信息维度
交易信息维度，需要在列表中将具有核心价值点的交易信息提炼展示，包括：交易道具图标、交易对象信息、交易条件、交易胜负模拟结果


2、道具维度
道具维度主要方便用户快速定位想要购买的道具，点击后再二级页面或者下拉框中再展示对应的交易信息


**根据道具维度的列表排序逻辑如下：**
●根据交易道具类型排序，grow a garden可供交易的道具主要分为 作物、宠物、宠物蛋蛋、工具 四种类型
●通过热门交易道具列表排序，根据24小时or N天内，交易订单中出现最多的道具进行排序
●通过交易道具游戏价值排序，根据交易道具的游戏内卖商店价值计算排序

根据交易信息维度的列表排序逻辑如下：
●根据新发布交易道具排序
●根据发布者的交易数量排序

另外针对有具体目标的用户，提供搜索功能，支持用户直接搜索道具或者订单


## 交易信息确认

用户对某个交易感兴趣，可点击查看交易信息面板，通过交易面板来确认是否接受该交易，一旦接受，则进入交易流程；因此，交易信息面板主要用于帮助用户分析该交易是否匹配并促成用户接受交易，需要尽可能的展示交易相关的信息


### 交易信息面板的功能列表

### 交易对象的信息展示
交易对象的信息展示主要帮助用户确认交易可靠性，通过用户的历史交易记录与平台的标签验证来提升信任度，通过在线状态的展示来提高用户的交易效率

### 交易道具的信息展示
帮助用户判断交易是否匹配，交易是否公平

### 交易条件匹配
针对发布的交易，用户可以执行以下操作：
1、接受交易条件且为登录状态，立即进入交易流程
2、针对要求买方报价的交易，提交道具并确认总价值是否低于买家的最小限制
3、根据道具价值估算来查看该笔交易是否公平合理，决定是否提交报价，选择提交报价则需等待卖家通过后进入交易流程
4、如果卖家拒绝，则可以在通知中查看拒绝原因


### 交易流程
当买家或者卖家接受某笔交易后，双方则进入交易流程中，交易流程主要通过交易订单状态的切换与交易引导页面来实现用户的交易诉求


### 订单系统
订单系统帮助用户追踪交易状态，查看历史交易，买家或者买家一旦接受某个交易后，则立即生成一笔订单，并通过私信对话窗口发送给双方


**订单包括以下几种状态：**
交易中，订单生成后自动进入交易中状态
交易结束，超过12个小时买家未确认，订单自动结束
完成交易，由买方主动进行交易确认
取消交易，买方或者卖方主动取消交易

订单的状态流转会在消息推送通知和买卖双方的对话框以及用户中心订单记录中展示

只有完成交易才算真实有效的一笔交易，并且记录到完成交易的列表中，交易结束和取消交易均不记录完成交易

### 私信
私信用来帮卖家和买家进行交易过程的沟通，以及交易状态的通知，需要具备基础的消息列表页和消息收发能力


消息推送通知
通过chrome的通知和Discord的bot能力来实现站内消息通知的外部覆盖
（需要进一步需求流程细节和技术预研）

## trade value calculator交易价值计算器
商品价值的基础信息已通过基础信息库录入，主要通过用户添加的道具价值的总和来计算双方的交易胜负


作物的价值计算公式如下：
作物价值=作物基础值 x ( 1+生长突变的乘数总和 - 突变的类型数量  )  x 生长突变

一个作物可能包含多个突变的属性

生长突变的乘数列表
https://growagarden.fandom.com/wiki/Mutations 

Rules
Only one of either Golden or Rainbow can be applied.
Only one of either Chilled, Wet, Drenched, or Frozen can be applied.
Only one of either Burnt or Cooked can be applied.
Only one of either Verdant, Sundried or Paradisal can be applied.
Only one of either Sandy, Clay, Wet or Drenched can be applied.
Only one of either Ceramic, Burnt, Fried, Cooked, Molten or Clay can be applied.
Cooked replaces Burnt
AncientAmber replaces OldAmber which replaces Amber
Drenched replaces Wet


## 推送通知
推送通知主要解决以下场景的需求：
1、当用户在使用chorme浏览器时，能够收到网站的用户消息、订单状态提醒
2、当用户不在浏览器时，能收到网站的用户消息、订单状态提醒

用户消息主要是站内用户之间发送的私信消息

订单状态提醒时包括主要满足交易信息被确认，双方进入交易流程时
-交易信息有买家接受
-交易信息有买家出价
-交易出价买家接受

此外，还有discord的流程节点提醒，但由于网站不涉及中间人部分，该部分提醒只在discord社区内实现：
-中间人预约成功后交易时间提示，to买家和卖家
-交易即将开始提示，to买家和卖家
-中间人已完成交易提示，to买家和卖家

## 道具图鉴
通过识图功能，识别用户道具仓库截图，记录用户所拥有的道具，方便用户在道具选择时便捷的使用



----

以下功能GAG未开发，新游戏需要：
### 游戏库存追踪
游戏库存追踪帮助用户追踪游戏内的道具刷新，用户无需在游戏内，通过网页信息就可以观察到游戏内的种子是否刷新，提高游戏效率

库存追踪主要有个部分：
1、商店刷新追踪由于游戏内的商店是定时刷新的，每次刷新的商品类型随机，因此需要针对游戏内商店刷新的种子、工具、宠物蛋、装饰物追踪，每一类都是不同的商人。也包括活动商店例如Summer Shop为限时出现的活动商店需要预研竞品网站通过什么方式实现的商店信息刷新追踪竞品网站
https://www.gamersberg.com/grow-a-garden/stock https://growagarden.trade/stocks 
参考界面


2、游戏天气追踪
游戏的天气对于游戏作物收货的收益影响非常重要，因此玩家对于天气的追踪需求会较高，目前暂无法得知竞品网站采用什么方式进行天气追踪，可以参考Youtube在线直播间https://www.youtube.com/watch?v=04IyoSk8P_g 


前期如果针对天气的技术实现成本较高，可以先考虑开youtube直播账号的形式来实现网站的追踪能力


主要通过列表式展示，参考图如下


道具图鉴样式

