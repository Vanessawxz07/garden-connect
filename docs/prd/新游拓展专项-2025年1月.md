# 新游拓展专项 PRD

## 一、需求背景

### 1.1 项目现状
网站当前主要服务 **Grow a Garden** 游戏玩家，提供道具价值、道具 Wiki、交易价值计算器、文章内容、宠物管理等功能。

### 1.2 扩展计划
随着用户搜索需求与扩展计划，我们计划支持第二款 Roblox 游戏 **Blox Fruits**。

> **Blox Fruits** 是一款基于《海贼王》灵感制作的 Roblox 动作冒险游戏，玩家通过获取和使用各种"果实"获得特殊能力，在开放世界中刷怪升级、打 Boss、PvP 对战并探索多个海域，是 Roblox 上人气最高、玩法最丰富的刷级与战斗类游戏之一。
> 
> 游戏链接：https://www.roblox.com/games/2753915549/Blox-Fruits#!/about

### 1.3 需求目标

1. 支持 Blox Fruits 可交易道具的价值展示、Wiki 信息、交易系统、列表功能、文章内容等功能
2. 在不破坏现有 GAG 功能的前提下，新增一套独立的 Blox Fruits 功能区域
3. 形成多游戏架构的基础，为未来扩展第 3 款或更多游戏打下基础
4. 能抽象成配置或组件的，尽量抽象，以便后续更快速的增加新游戏

---

## 二、基础框架设计

### 2.1 首页分阶段渐进式改版

根据游戏数量的增长，首页架构分两个阶段逐步演进：

#### 阶段一：双游戏公共首页（MVP）

> **调整说明（2025-12-25）：** 原阶段一（GAG为主+BF软入口）与阶段二（双游戏公共首页）合并，MVP上线时直接采用公共首页+独立游戏首页的架构，不再做302重定向过渡。

| 维度 | 说明 |
|------|------|
| **基础条件** | BF基础页面完成 |
| **`/` 首页** | 公共首页：GAG模块(60%) + BF模块(20%) + 平台品牌介绍(20%) |
| **`/growagarden`** | 独立GAG首页（基于目前首页改版） |
| **`/bloxfruits`** | 独立BF首页，新建；页面结构复用GAG首页 |
| **SEO重心** | `/` 目标多游戏品牌词；各游戏首页聚焦各自关键词 |

```
用户访问 / → 公共首页（GAG 60% + BF 20% + 平台介绍 20%）
用户访问 /growagarden → 独立GAG首页
用户访问 /bloxfruits → 独立BF首页
```

**预期效果：**
- `/` 和 `/growagarden` 两个URL都独立被Google索引
- 总的搜索流量增加
- 架构清晰，便于后续扩展

**可能的影响和应对方案：**
<img width="927" height="287" alt="image" src="https://github.com/user-attachments/assets/3d481b91-2711-4246-9690-03ca1ccd4527" />


#### 阶段二：多游戏入口聚合（3款及以上）

| 维度 | 说明 |
|------|------|
| **条件** | 支持第3款游戏时 |
| **`/` 首页** | 纯游戏入口聚合页 + 平台品牌 |
| **各游戏首页** | `/growagarden`、`/bloxfruits`、`/{newgame}` 各自独立 |
| **SEO重心** | `/` 聚焦平台品牌 + 通用"Roblox trading"关键词 |

```mermaid
flowchart LR
    subgraph Phase1["阶段一 (MVP)"]
        B1["/"] --> B2["公共首页<br/>GAG 60% + BF 20% + 平台 20%"]
        B3["/growagarden"] --> B4["独立GAG首页"]
        B5["/bloxfruits"] --> B6["独立BF首页"]
    end
    
    subgraph Phase2["阶段二"]
        C1["/"] --> C2["游戏入口聚合页"]
        C3["/growagarden"] --> C4["GAG首页"]
        C5["/bloxfruits"] --> C6["BF首页"]
        C7["/{newgame}"] --> C8["新游首页"]
    end
    
    Phase1 --> Phase2
```

### 2.2 URL结构规范

| 类型 | URL结构 | 示例 |
|------|---------|------|
| 游戏首页 | `/{gameKey}` | `/growagarden`、`/bloxfruits` |
| 道具Value列表 | `/{gameKey}/value` | `/growagarden/value` |
| Wiki列表 | `/{gameKey}/wiki` | `/bloxfruits/wiki` |
| 道具wiki详情 | `/{gameKey}/wiki/{道具名称id}` | `/bloxfruits/wiki/dragon-fruit` |
| 交易列表 | `/{gameKey}/tradelist` | `/growagarden/tradelist` |
| 创建交易 | `/{gameKey}/trade/create` | `/bloxfruits/trade/create` |
| 价值计算器 | `/{gameKey}/tradecalculator` | `/growagarden/tradecalculator` |
| Tier List | `/{gameKey}/{道具类型}-tierlist` | `/growagarden/pets-tierlist`、`/bloxfruits/fruits-tierlist` |

### 2.3 公共页面URL

| 类型 | 新URL结构 | 说明 |
|------|---------|------|
| 公共首页 | `/` | 覆盖多款游戏的介绍和入口 |
| 聊天页 | `/chat` | （URL路径需修改）所有游戏共用，通过Tab筛选游戏（详见4.8） |
| 用户主页 | `/user/{用户uid}` | 所有游戏共用一个用户中心页 |
| 个人设置 | `/settings` | 所有游戏共用一个用户中心设置页 |
| giveaway列表页 | `/giveaways` | （URL路径需修改）公共抽奖聚合页，所有游戏共用（详见4.4） |
| giveaway详情页 | `/giveaways/{抽奖标题}` | （URL路径需修改）抽奖详情页（已有收录，URL规则需讨论-是否需要增加gamekey一级区分游戏？） |
| 新手指引 | `beginners-guide` | （URL路径需修改）公共页面，页面内容需更新，强调站点交易流程 |
| 安全交易 | `/safe-trading-guide` | （URL路径需修改）公共页面，页面内容需更新，强调站点交易中通用性风险防范 |
| 更新日志 | `/updatelog` | （URL路径需修改）公共页面，通过管理端配置游戏层级，前端UI区分各游戏（详见4.3） |
| FAQ | `/faq` | （URL路径需修改）公共页面，站点通用FAQ |
| 贡献者页 | `/contributors` | （URL路径需修改）公共页面，所有游戏合作者都可以展示，内容需更新 |
| 关于我们 | `/about-us` | 公共页面，内容需更新 |
| 隐私政策 | `/privacy-policy` | 公共页面 |
| 用户协议 | `/user-agreement` | 公共页面 |
| cookie政策 | `/cookie-policy` | 公共页面 |


### 2.4 SEO策略（整体占位，待细化）

#### 2.4.1 TDK优化策略


#### 2.4.2 Heading结构规范



#### 2.4.3 结构化数据 (Schema)


> **注：** 具体Schema内容待页面设计完成后细化

#### 2.4.4 Canonical标签策略

| 阶段 | URL | Canonical指向 |
|------|-----|---------------|
| 阶段一 | `/` | `https://域名/` |
| 阶段一 | `/growagarden` | `https://域名/growagarden` |
| 阶段一 | `/bloxfruits` | `https://域名/bloxfruits` |
| 阶段二 | `/` | `https://域名/` |

#### 2.4.5 Sitemap策略

**阶段一（MVP）：**
- 主sitemap `/sitemap.xml` 包含 `/`、`/growagarden`、`/bloxfruits`
- 各游戏独立sitemap：
  - `/growagarden/sitemap.xml`
  - `/bloxfruits/sitemap.xml`
- 主sitemap引用各子sitemap

**阶段二起：**
- 新增游戏时添加对应sitemap
- 主sitemap引用所有子sitemap

#### 2.4.6 内链权重传递

| 阶段 | 策略 |
|------|------|
| 阶段一 | 公共首页双向内链：GAG模块 ↔ `/growagarden`，BF模块 ↔ `/bloxfruits` |
| 阶段二 | 聚合页提供各游戏首页入口，各游戏首页互相交叉链接 |

#### 2.4.7 301重定向说明

| 类型 | 用途 | SEO影响 |
|------|------|---------|
| **301永久重定向** | 仅用于URL结构变更时的旧URL处理 | 传递约90%权重到新URL |

> **注（2025-12-25更新）：** MVP阶段不再使用302临时重定向，`/` 和 `/growagarden` 从一开始就是独立页面。

---

## 三、MVP阶段需求清单（PM: 雪竹）

### 3.1 页面模块

| 序号 | 页面模块 | 优先级 | 规划点 | 是否抽象为配置 | 是否需要按游戏区分 | GAG页面URL | BF页面URL | 后续新游URL模板 | 说明 |
|------|----------|--------|--------|----------------|-------------------|-------------|-----------|-----------------|------|
| 1 | 导航栏 | P0(MVP) | 默认与单游戏切换的逻辑，一、二级入口 | ✅ 是 | 是 | 独立导航栏 | 独立导航栏 | 独立导航栏 | 公共页面(如首页、关于我们、隐私政策等)单独一套导航栏，给出每款游戏的入口 |
| 2 | footer | P0(MVP) | 默认与单游戏切换的逻辑 | ✅ 是 | 是 | 独立footer | 独立footer | 独立footer | 公共页面单独一套footer，给出每款游戏的入口 |
| 3 | 公共首页 | P0(MVP) | 新增 | ❌ 否 | 否 | — | — | — | 公共首页需要改版，覆盖多款游戏的介绍和入口 |
| 4 | 单游戏首页 | P0(MVP) | 原首页中GAG的内容要保留，给新游首页先提供入口 | — | 是 | /growagarden | /bloxfruits | /{新游名称} | — |
| 5 | 用户主页 | P0(MVP) | 默认与单游戏切换的逻辑 | ❌ 否 | 否 | /user/{用户uid} | /user/{用户uid} | /user/{用户uid} | 所有游戏共用一个用户中心页，页面增加一级游戏筛选 |
| 6 | 个人中心设置页 | P0(MVP) | 隐私设置中增加新游内容tab的隐私设置 | ❌ 否 | 否 | /settings | /settings | /settings | 所有游戏共用一个用户中心设置页 |
| 7 | 聊天页面 | P0(MVP) | 公共聊天页，顶部Tab筛选游戏（详见4.7） | ❌ 否 | 否 | /chat | /chat | /chat | 所有游戏共用一个聊天页，通过Tab筛选（All/GAG/BF） |
| 8 | 订单列表页 | P0(MVP) | 订单列表组件样式更新：格子数量、WFL提示变化（是否能抽象为可配置） | ⏳ 待定 | 是 | /growagarden/tradelist | /bloxfruits/tradelist | /{新游名称}/tradelist | — |
| 9 | 订单详情页 | P0(MVP) | 内容模块更新；订单主逻辑是否有调整？ | ⏳ 待定 | 是 | /growagarden/tradelist/{订单id} | /bloxfruits/tradelist/{订单id} | /{新游名称}/tradelist/{订单id} | — |
| 10 | 创建交易页 | P0(MVP) | 主要变更：WFL差值限制，gap>40%不能提交 | ⏳ 待定 | 是 | /growagarden/trade/create | /bloxfruits/trade/create | /{新游名称}/trade/create | — |

### 3.2 公共组件

| 序号 | 组件名称 | 优先级 | 规划点 | 待讨论事项 |
|------|----------|--------|--------|------------|
| 1 | 组件-订单列表 | P0(MVP) | UI/UX复用；根据新游戏的关键数据字段设计 | 需确认BF道具展示的关键字段 |
| 2 | 组件-道具信息卡片 | P0(MVP) | UI/UX复用；根据新游戏的关键数据字段设计 | 需确认BF道具展示的关键字段 |
| 3 | 组件-道具交易信息卡片 | P0(MVP) | UI/UX复用；根据新游戏的关键数据字段设计 | 需确认BF道具展示的关键字段 |
| 4 | 组件-道具交易信息弹窗 | P0(MVP) | UI/UX复用；根据新游戏的关键数据字段设计 | 需确认BF道具展示的关键字段 |
| 5 | 组件-道具选择弹窗 | P0(MVP) | UI/UX复用；根据新游戏的关键数据字段设计 | 需确认BF道具展示的关键字段、格子数量(BF最多4个) |
| 6 | 组件-道具参数设置弹窗 | P0(MVP) | UI/UX复用；根据新游戏的关键数据字段设计 | 需确认BF道具的可配置参数 |

参考道具信息数据表：https://doc.weixin.qq.com/sheet/e3_ATMA6AazAK0CNDxQbNrIgRpuvF2SZ?scode=AFIANgeJAA0i560aV5AWkAuwbIADo&tab=BB08J2

---

## 四、各页面模块需求细节

> 以下需求待逐一细化

### 4.1 导航栏（需求方案、视觉已定稿）
视觉：(https://www.figma.com/design/4mDwVh4lJ2t1Yy7EcINY5t/UI-Kit?node-id=5347-868&p=f&t=7Ba3lDA23mkxLYwZ-0)

#### 4.1.1 总体原则

- 每个游戏有**独立的游戏导航栏+footer**，随着页面路径 `/{gameKey}/` 切换
- 公共页面有**一套独立的公共导航栏+footer**
- 整体视觉风格会根据游戏来区分（如导航栏、banner、主色调）
- UI公共组件尽可能复用

<img width="1529" height="504" alt="局部截取_20251229_121642" src="https://github.com/user-attachments/assets/8a2cdc02-a23b-4127-a430-aacce49d5677" />

新功能：**游戏选择器**
游戏选择器位于导航栏左侧Logo旁，用于在不同游戏之间切换，是多游戏平台的核心导航组件。

**视觉结构：**
- **游戏图标**：当前选中游戏的Logo
- **游戏名称**：当前选中游戏的名称（如"Grow A Garden"、"Blox Fruits"），使用品牌色高亮
- **副标题文案**：根据状态动态变化（见下方）
- **下拉箭头**：指示可展开状态

**副标题文案状态区分：**

| 状态 | 副标题文案 | 说明 |
|------|-----------|------|
| **默认状态**（非Hover/非点击） | `Current Game` | 明确告诉用户当前游戏 |
| **Hover / 点击状态**（下拉菜单出现时） | `Select Game` | 提示用户可以进行选择操作 |

**下拉菜单交互：**
- Hover或点击触发下拉菜单展开
- 下拉菜单展示所有可用游戏列表，每项包含游戏图标+游戏名称
- 当前选中的游戏显示选中态（如✓图标和高亮背景）
- 点击其他游戏项后，跳转至对应游戏首页 `/{gameKey}`
- 点击选择器外部或按ESC键关闭下拉菜单


##### P1需求：**支持导航栏可配置**
为支持新游快速上线，减少后续开发工作量，并根据各游戏新增页面灵活调整导航的入口，将游戏导航栏抽象为管理端配置，无需每次调整都发版。
（因公共导航栏后续还将改版，因此初期配置主要针对游戏导航栏而非公共导航栏）

<img width="1544" height="218" alt="局部截取_20251229_111559" src="https://github.com/user-attachments/assets/19cfa520-1687-4d6a-b8d6-6ab19f87e92c" />


**游戏导航栏-菜单可配置项**：
- 游戏选择器：上传游戏logo、填写游戏名称，自动展示选择器入口
- 一级菜单入口图标：支持上传图片or SVG文件（待确认方案）
- 一级菜单入口文案：输入框 （需限制最大字符数）
- 是否有下拉菜单：有下拉菜单则该入口本身无跳转落地页，只作为一个功能类型收纳其下的二级入口。勾选后则展开二级菜单配置项（下拉菜单中每个入口的图标+文案+链接与上面一级入口一致）；二级入口至少需要>1个才可选择为下拉菜单，否则只能作为一级入口
- 一级入口跳转链接：输入框填写落地页URL（如有下拉菜单，则该一级入口不必填写链接）
- New角标：可勾选
- 移动端是否展开：勾选后则该一级菜单项下的二级入口在中下屏时默认为展开状态，支持用户手动折叠
- Discord入口链接：配置不同游戏对应的Discord频道邀请页的URL
- 极限展示情况（待设计侧确认规范）

导航栏上其他元素的样式与逻辑则为通用：
- 品牌logo：所有导航栏通用，点击则跳转站点公共首页
- 消息、登录、用户头像：通用逻辑，详见后续"4.1.4 用户区交互规范"部分

**预览功能**：配置导航栏后支持在管理端预览前端实际效果，如没有问题才可确认生效。确认按钮需二次提醒，以防误操作。


#### 4.1.2 游戏导航栏

游戏导航栏在用户访问对应游戏`/{gameKey}`及 `/{gameKey}/xxx` 路径时展示，菜单项根据当前游戏动态显示其可用功能。
<img width="1505" height="185" alt="局部截取_20251225_161623" src="https://github.com/user-attachments/assets/1a72abef-6c98-4d3e-b9d4-56c33cdf8915" />

| 元素 | 说明 |
|------|------|
| **游戏Logo**（待定） | 点击回到访游戏首页 `/{gameKey}` |
| **游戏切换器** | 展示选中状态的游戏，点击下拉选择其他游戏，切换后跳转对应游戏首页`/{gameKey}` |
| **公共入口** | Giveaways等公共页面入口，位置可以插在功能入口之间 |
| **功能菜单** | 根据游戏可用功能动态显示不同入口（如Trade、Value、Wiki、Calculator等） |
| **社区入口** | 根据游戏展示对应的discord入口，引导用户关注（公共导航栏不展示该入口）|
| **用户区** | MESSAGE按钮（Chat页面）、用户头像/登录按钮 |

- **BF MVP阶段可用菜单：** Trade（一级 Trade，二级 Tradeable Items、Trade Listing、Post a Trade）、Trade Calculator、Wiki（一级 Wiki，二级 Fruit Wiki、Fruit Tier List）
- **GAG已完整菜单：** 现有入口不变，如Trade、Value、Wiki、Calculator、Articles、Pets等


#### 4.1.3 公共导航栏

公共导航栏在用户访问公共页面（如 `/`、`/chat`、`/user/{uid}`、`/settings`）时展示。

##### 结论：**优先考虑GAG老用户体验 + 快速上线**，MVP阶段使用**方案一**
可以理解为MVP阶段时，公共导航栏可复用GAG导航栏展示的入口和交互逻辑；但在未来阶段二多个游戏上线后，不强调GAG单游戏时，公共导航栏将改版使用下面方案二模式。
需注意：**即使MVP时公共导航栏与GAG导航栏一样，但两者本质上是2套导航栏，需避免使用上的混淆。**

##### 方案对比表

| 维度 | 方案一：**GAG优先模式** | 方案二：纯公共入口模式（参考Gamesberg） |
|------|---------------------|----------------------------------------|
| **核心思路** | 公共导航栏默认展示GAG菜单入口，同时提供游戏切换器 | 公共导航栏只展示游戏选择和公共功能入口，不默认展示任何游戏菜单 |
| **TradeKitsune Logo** | 平台Logo，点击回到 `/` | 平台Logo，点击回到 `/` |
| **游戏切换器** | 下拉菜单，含"Grow a Garden ⭐"、"Blox Fruits"，GAG标记为默认 | 大型Mega Menu，分栏展示：Games / Giveaways / Community |
| **功能菜单** | 默认优先显示GAG的完整菜单（Trade、Value、Wiki等），切换游戏后菜单对应变化 | 不显示游戏功能菜单，功能入口需要先选择游戏 |

##### 优劣对比分析

| 维度 | 方案一：GAG优先模式 | 方案二：纯公共入口模式 |
|------|---------------------|----------------------|
| **GAG用户体验** | ✅ 极佳：公共页面仍可一键进入GAG功能，无需额外点击 | ⚠️ 需多一步：需先选择游戏才能进入功能页 |
| **BF用户体验** | ⚠️ 一般：需要切换游戏才能看到BF入口，且BF菜单项较少 | ✅ 公平：所有游戏平等展示，无主次之分 |
| **新游戏扩展** | ⚠️ 需调整：添加第3款游戏时需重新考虑默认游戏策略 | ✅ 天然支持：直接在Games栏添加新游戏即可 |
| **开发复杂度** | ✅ 低：复用游戏导航栏逻辑，仅增加默认游戏配置 | ⚠️ 中：需设计Mega Menu组件，布局更复杂 |
| **信息密度** | ✅ 高：一屏展示更多功能入口 | ⚠️ 低：需展开菜单才能看到选项 |
| **视觉一致性** | ⚠️ 公共页面与GAG页面导航栏几乎一样，可能造成混淆 | ✅ 公共页面有明确的"平台级"视觉差异 |
| **阶段兼容性** | ✅ 阶段一适合（GAG为主）；阶段二三需调整 | ✅ 全阶段适用，无需大改 |
| **用户认知负担** | ✅ 低：老用户几乎无感知变化 | ⚠️ 中：需要理解"先选游戏再选功能"的模式 |


#### 4.1.4 用户区交互规范

导航栏用户区包含**MESSAGE按钮**和**用户头像/登录按钮**，沿用**强消息曝光**策略。

##### 消息入口（MESSAGE按钮）

| 用户状态 | 视觉表现 | 点击行为 |
|----------|----------|----------|
| **未登录** | 隐藏入口 | -- |
| **已登录 - 无未读** | `[💬 MESSAGE]` 正常颜色 | 跳转聊天页（见下方场景区分） |
| **已登录 - 有未读** | `[💬 MESSAGE ⓳]` 带红色未读消息数量 | 跳转聊天页（见下方场景区分） |

现网逻辑不变，**调整点**（作为P1功能）：未读消息数量根据导航栏/页面区分，即公共页面/公共导航栏时，则展示所有的未读消息合计；如在单游戏页面/游戏导航栏中，则展示该游戏的未读消息数。**MVP阶段则无需区分游戏展示分别的未读消息数。**

##### 用户头像/登录按钮

| 用户状态 | 视觉表现 | 交互行为 |
|----------|----------|----------|
| **未登录** | `[Login]` 按钮 | 点击跳转登录页 |
| **已登录 - 桌面端** | `[👤 用户头像]` | 点击：跳转个人中心（见下方场景区分）；Hover：显示下拉菜单 |
| **已登录 - 非桌面端** | `[👤 用户头像]` | 点击：跳转个人中心（见下方场景区分，无hover下拉） |

##### 用户区场景区分逻辑

> **核心规则：** 用户区入口的跳转行为需要根据当前所在页面类型（公共页面 vs 游戏页面）区分，以保持用户上下文的一致性。
可以理解为，游戏页面中游戏导航栏用户区的跳转都应该对应到该游戏的数据展示。

**设计目的：**
- 用户在某游戏场景下点击入口，保持同一游戏上下文，避免跳出感
- 公共页面保持中立状态，不预设任何游戏筛选

示例说明：
| 当前页面类型 | 页面示例 | MESSAGE按钮跳转 | 用户头像跳转 |
|--------------|----------|-----------------|--------------|
| **公共页面** | `/`、`/chat`、`/user/{uid}`、`/settings`、`/giveaways`、`/updatelog` | `/chat`（默认All标签） | `/user/{uid}`（默认展示，无游戏筛选） |
| **GAG游戏页面** | `/growagarden`、`/growagarden/tradelist`、`/growagarden/value`等 | `/chat?game=gag`（筛选GAG消息） | `/user/{uid}?game=gag`（展示GAG相关数据） |
| **BF游戏页面** | `/bloxfruits`、`/bloxfruits/tradelist`、`/bloxfruits/value`等 | `/chat?game=bf`（筛选BF消息） | `/user/{uid}?game=bf`（展示BF相关数据） |


##### 其他需兼容场景区分逻辑的地方

> 以下场景也应遵循相同的"上下文保持"原则：

| 场景 | 说明 | 兼容方案 |
|------|------|----------|
| **订单确认后跳转聊天** | 用户在订单详情页确认交易后，需跳转与对方的1v1聊天 | 携带订单所属游戏参数，聊天页显示对应游戏角标 |
(未全部枚举，如有遗漏待讨论）

##### 用户头像Hover下拉菜单（仅桌面端）
<img width="262" height="307" alt="局部截取_20251229_140923" src="https://github.com/user-attachments/assets/0267f3cf-9e2f-40cd-b883-3cb72d0becba" />

| 菜单项 | 说明 |
|--------|------|
| Personal Center | 跳转当前用户的个人主页（见上方场景区分，/user/{uid} 或 /user/{uid}?game=xxx） |
| Post a Trade | 快捷发布交易，跳转创建交易页（根据游戏自动区分，跳转 /growagarden/trade/create 或/bloxfruits/trade/create） |
| My Pets  | 展示与交互逻辑与现网一致，但增加游戏判断，即该入口仅在GAG的情况下展示 |
| Log Out | 退出登录，清除会话 |


#### 4.1.5 中小屏导航栏

##### 整体布局

| 元素 | 说明 |
|------|------|
| **汉堡菜单** | 点击展开侧边抽屉 |
| **网站Logo** | 与大屏相同 |
| **游戏选择器** |样式简化  |
| **用户区** | 消息、登录/用户头像逻辑同现网 |

##### 汉堡菜单展开内容（左侧边抽屉）

<img width="1100" height="760" alt="局部截取_20251229_142003" src="https://github.com/user-attachments/assets/b3111941-fd26-4377-a5af-1e8f57f28b8b" />

###### 菜单内容
**游戏导航栏中Discord入口**：文案通用，但游戏logo和跳转链接页跟着对应游戏走(和大屏时一样)



#### 4.1.6 导航栏滚动交互优化（本节自MVP中移除，先不开发）
12/29更新：本期不增加该交互优化，待后续上线再定

> 当前导航栏固定顶部，占用较多视野空间。采用行业通用的**滚动隐藏/显示**方案优化用户有效视野。

##### 交互逻辑（以下为示例，具体实现由研发与视觉确认）

| 用户行为 | 导航栏状态 | 说明 |
|----------|------------|------|
| **页面加载** | 显示 | 初始状态正常展示导航栏 |
| **向下滚动** | 隐藏 | 滚动超过阈值（如50px）后，导航栏向上滑出隐藏 |
| **向上滚动** | 显示 | 任意向上滚动即触发导航栏滑入显示 |
| **滚动到顶部** | 显示 | 页面滚动到最顶部时，导航栏始终显示 |
| **悬停在导航栏区域** | 保持显示 | 鼠标悬停在导航栏上时不隐藏（大屏） |

##### 动画规范（以下为示例，具体实现由研发与视觉确认）

| 维度 | 规范 |
|------|------|
| **过渡动画** | `transform: translateY()` + `transition: 0.3s ease-out` |
| **隐藏方式** | 向上平移（translateY(-100%)），保留DOM占位避免页面跳动 |
| **触发阈值** | 向下滚动 > 50px 触发隐藏；向上滚动任意距离触发显示 |
| **节流处理** | 滚动事件节流（如100ms），避免频繁触发 |

##### 大小屏适配（供参考）

| 屏幕 | 特殊处理 |
|------|----------|
| **大屏** | 导航栏隐藏后释放视野 |
| **中小屏** | 导航栏高度约48-56px，隐藏逻辑一致 |
| **触摸设备** | 支持触摸滚动方向检测，逻辑同上 |

**行业参考**
- Twitter/X：向下滚动隐藏，向上滚动显示
- Medium：类似交互，阅读体验优先
- Gamesberg：导航栏固定但高度较小


### 4.2 Footer（需求方案、视觉已定稿）
视觉稿：https://www.figma.com/design/4mDwVh4lJ2t1Yy7EcINY5t/UI-Kit?node-id=5409-4552&p=f&t=7Ba3lDA23mkxLYwZ-0

#### 4.2.1 通用Footer设计

> 考虑到BF内容在MVP阶段相对较少，采用**通用Footer**方案，同时展示GAG资源、BF资源和公共页面入口，避免区分多套Footer增加工作量。

##### Footer布局结构
<img width="704" height="619" alt="局部截取_20251229_145955" src="https://github.com/user-attachments/assets/0d4cf52f-766e-4b8d-aa05-272a42fb234d" />

##### Footer内容分区

| 分区 | 内容 | 说明 |
|------|------|------|
| **品牌区** | Logo、Slogan、社交媒体图标（保留X/YouTube，移除Discord） | 左侧，品牌展示文案"Your trusted Roblox games trading hub. 
Trade smarter with a secure marketplace for Grow a Garden, Blox Fruits, and expanding to more roblox games." |
| **Grow a Garden** | Trade、Trade Calculator、Pet Value、Pet Wiki、Event Wiki、Guides、Pet Management | GAG游戏功能入口 |
| **Blox Fruits** | Trade、Trade Calculator、Fruit Wiki、Fruit Tier List | BF游戏功能入口（MVP阶段内容较少） |
| **HELP** | Beginner's Guide、Safe Trading Guide、Updatelog、FAQ、Feedback | 帮助与支持 |
| **LEGAL** | Contributors、About Us、Privacy Policy、User Agreement、Cookie Policy | 法律与关于 |
| **Truspilot入口** | 现网逻辑不变，增加评分、评论数量展示 | TR评价引导 |
| **版权声明** | 免责声明 + 版权信息 | 底部，居中展示 |

##### 链接映射表

| 分区 | 链接项 | 目标URL |
|------|--------|---------|
| **GAG RESOURCES** | Trade | `/growagarden/tradelist` |
| | Trade Calculator | `/growagarden/calculator` |
| | Giveaways | `/giveaways` |
| | Pet Value | `/growagarden/value` |
| | Pet Wiki | `/growagarden/wiki` |
| | GAG Guides | `/growagarden/guides` |
| | Pet Management | `/growagarden/pet-management` |
| **BF RESOURCES** | Trade | `/bloxfruits/tradelist` |
| | Trade Calculator | `/bloxfruits/calculator` |
| | Fruit Wiki | `/bloxfruits/wiki` |
| | Fruit Tier List | `/bloxfruits/fruits-tierlist` |
| **HELP** | Beginner's Guide | `/beginners-guide` |
| | Safe Trading Guide | `/safe-trading-guide` |
| | Updatelog | `/updatelog` |
| | FAQ | `/faq` |
| | Feedback | `不变，tally (外部链接) |
| **LEGAL** | Contributors | `/contributors` |
| | About Us | `/about-us` |
| | Privacy Policy | `/privacy-policy` |
| | User Agreement | `/user-agreement` |
| | Cookie Policy | `/cookie-policy` |

##### 响应式布局（供参考，以视觉稿为准）

| 屏幕 | 布局 |
|------|------|
| **大屏** | 5栏横向布局：品牌区 + GAG + BF + HELP + LEGAL |
| **中屏** | 3栏布局：品牌区独占一行，下方 GAG+BF / HELP+LEGAL 分两行 |
| **小屏** | 单栏纵向布局：各分区依次垂直排列 |

---

### 4.3 Updatelog更新日志页

> **调整说明（2025-12-25）：** updatelog从分游戏页面（`/{gameKey}/updatelog`）改为公共页面（`/updatelog`）

#### 4.3.1 页面定位

| 维度 | 说明 |
|------|------|
| **URL** | `/updatelog` |
| **页面类型** | 公共页面 |
| **导航栏** | 公共导航栏 |
| **主要功能** | 展示平台更新日志，包含所有游戏的更新内容 |

#### 4.3.2 内容管理

| 维度 | 说明 |
|------|------|
| **管理端配置** | 新增"游戏"选择字段，支持选择：全平台/GAG/BF/... |
| **数据结构** | 每条更新日志包含：标题、内容、发布时间、游戏归属 |
| **游戏归属** | `all`（全平台）、`gag`、`bf`、后续扩展新游戏 |

#### 4.3.3 前端展示

| 维度 | 说明 |
|------|------|
| **筛选方式** | 顶部Tab或下拉筛选：All / GAG / BF |
| **游戏标识** | 每条更新日志旁显示游戏角标/标签 |
| **排序** | 按发布时间倒序 |
| **分页** | 支持加载更多或分页 |

```
┌──────────────────────────────────────────────────────────────────┐
│  Updatelog                                                       │
│  ─────────────────────────────────────────────────────────────── │
│  [All] [Grow a Garden] [Blox Fruits]  ← Tab筛选                  │
│  ─────────────────────────────────────────────────────────────── │
│  📅 2025-01-15  [GAG]                                            │
│  New Pet: Golden Dragon Released!                                │
│  We've added a new legendary pet...                              │
│  ─────────────────────────────────────────────────────────────── │
│  📅 2025-01-10  [Platform]                                       │
│  Trade Calculator Improvements                                   │
│  Enhanced accuracy for value calculations...                     │
│  ─────────────────────────────────────────────────────────────── │
│  📅 2025-01-05  [BF]                                             │
│  Blox Fruits Trading Now Available!                              │
│  Start trading your fruits today...                              │
└──────────────────────────────────────────────────────────────────┘
```
---

### 4.4 Giveaway抽奖页（P1改造）

> **调整说明（2025-12-25）：** giveaway从分游戏页面改为公共页面

#### 4.4.1 Giveaway列表页（聚合页）

| 维度 | 说明 |
|------|------|
| **URL** | `/giveaways` |
| **页面类型** | 公共页面 |
| **导航栏** | 公共导航栏 |
| **主要功能** | 展示所有游戏的抽奖活动列表 |

**筛选与展示：**
- 顶部Tab或下拉筛选：All / GAG / BF
- 每个抽奖卡片显示游戏角标
- 支持按状态筛选：进行中/已结束

#### 4.4.2 Giveaway详情页

| 维度 | 说明 |
|------|------|
| **URL** | `/giveaways/{抽奖标题}` |
| **页面类型** | 公共页面 |
| **导航栏** | 公共导航栏 |

> **⚠️ URL规则待前置讨论：**
> - 现有结构：`/growagarden/giveaways/{抽奖标题}` 已被Google收录
> - 新结构：`/giveaways/{抽奖标题}`
> - 需要讨论：是否需要301重定向？如何处理已收录URL？

#### 4.4.3 游戏标识规则

| 场景 | 游戏标识展示 |
|------|--------------|
| 抽奖卡片（列表页） | 显示游戏角标（GAG/BF图标） |
| 抽奖详情页 | 页面标题区域显示游戏归属 |
| 奖品道具 | 道具卡片显示所属游戏 |

---

### 4.5 公共首页（MVP，视觉已定稿）
视觉稿：https://www.figma.com/design/UpWKSFehc5CiNRo1GA3sPG/home?node-id=2290-14756&p=f&t=VYgXzJkyKpjYFYK0-0

> **调整说明（2025-01-15）：** 公共首页方案已定稿，以下为详细需求说明。
| 维度 | 说明 |
|------|------|
| **`/` 首页** | 公共首页：GAG内容(60%) + BF内容(20%) + 平台品牌介绍(20%) |        
| **`/growagarden`** | 独立GAG首页（基于目前首页改版） |    
| **`/bloxfruits`** | 独立BF首页，新增；页面结构复用 |    


#### 4.5.1 模块布局（从上到下）

| 模块位置 | 模块名称 | 内容说明 | 是否新增 |
|----------|----------|----------|----------|
| 1 | Hero区 | 平台品牌展示 + 双游戏入口 | ✅ 新设计 |
| 2 | GAG热门道具 | GAG热门交易道具 | 交互调整 |
| 3 | GAG Value List | GAG top value道具列表 | 复用 |
| 4 | BF热门道具 | BF热门交易道具 | 交互调整 |
| 5 | 平台介绍 | 功能、内容 | ✅ 新增 |
| 6 | 价值点 | 平台优势介绍 | ✅ 新增 |
| 7 | FAQ | 平台相关的FAQ | 保留 |

#### 4.5.2 Hero区（新设计）
**顶部网站标题**：
```
主标题（H1）：Trade Roblox Items Safely & Easily | TradeKitsune
副标题（H1）：The trusted trading platform for Grow a Garden, Blox Fruits & more Roblox games. 
```
**运营数据**：
- Giveaways：字段口径不变，但不区分游戏，使用整站合计；支持点击，跳转Giveaway聚合的列表页。
- Ongoing Trades：与现网首页字段口径不变，但不区分游戏，使用整站合计。
- Completed Trades：字段口径不变，但不区分游戏，使用整站合计。

双游戏入口：
| 元素 | 说明 |
|------|------|
| 游戏图片 | 静态图 |
| 游戏名称 | "Grow a Garden"/"Blox Fruits" |
| 描述文案 | GAG:"Check values, find trades, grow your own garden!"；BF:"Trade fruits & items with fair prices!" |
交互：卡片整体响应点击跳转至各游戏首页
底部提示文案：More games coming soon!+ Vote for your favorite（文字链，跳转discord投票入口）
<img width="979" height="284" alt="局部截取_20260120_160429" src="https://github.com/user-attachments/assets/fec0b1a2-25d9-405b-b5e1-8744d253efb9" />


#### 4.5.3 GAG热门道具（复用）
<img width="1155" height="334" alt="局部截取_20260120_160314" src="https://github.com/user-attachments/assets/8f4c76b3-98f8-4e55-b564-64124999135a" />
- 标题行文案"Top Trading Items of Grow a Garden"，支持点击，点击跳转至 `/growagarden/trade`
- 复用现网首页"Hot Trading Items"模块的tab、道具数据和基础样式，但只展示一行，交互改为横滑显示更多，最多拉取12个道具。
- **模块底部入口**："VIEW GAG TRADES"，点击跳转至 `/growagarden/tradelist`


#### 4.5.4 GAG Value List
- 标题："Pet Value List of Grow a Garden"，支持点击跳转到`/growagarden/value`
- 副标题：更新时间，复用value list列表中数据拼接规则，例"Updated: Jan 15, 2026 12:00 AM UTC"
- 列表：直接复用value列表页中的列表模块，但只展示top5的道具
<img width="1072" height="463" alt="局部截取_20260120_160451" src="https://github.com/user-attachments/assets/10020c0f-c37f-4cc8-8d74-384683df6458" />


#### 4.5.5 BF推荐道具（复用BF组件）
- 标题行文案"Blox Fruits Hot Trading Items"；标题行支持点击，点击跳转至 `/bloxfruits/trade`
- 复用BF道具列表页的卡片样式结构，交互和拉取数量与GAG相同（只展示一行，交互改为横滑显示更多，最多拉取12个道具）。
**数据来源**：BF道具数据库，排序逻辑也和GAG相同。
- **模块底部入口**："VIEW BF TRADES"，点击跳转至 `/bloxfruits/tradelist`
<img width="1072" height="347" alt="局部截取_20260120_160504" src="https://github.com/user-attachments/assets/38e54f46-0f97-40db-957f-299a0e44b5e4" />


#### 4.5.6 平台介绍 - What We Offer（新增）
<img width="1269" height="680" alt="局部截取_20260120_160922" src="https://github.com/user-attachments/assets/81b6691c-2ffc-4e9e-93d8-f7418d02b529" />

**标题**："What We Offer"
**副标题**："Your Ultimate Roblox Trading Hub - Tradekitsune"
**展示样式**：每个功能点展示为一个小信息卡片，包含图标、小标题、一句话介绍。

**内容**：
| 图标 | 小标题 | 介绍文案 |
|------|--------|----------|
| 🔄 | Easy Trading | Post trades in seconds, find matches instantly. |
| 🧮 | Smart Calculators | Know if your trade is fair before you commit. |
| 📖 | Complete Wiki | Every item's stats, sources & rarity explained. |
| 📈 | Value Tracker | Item market trends updated daily. |
| 🎁 | Weekly Giveaways | Win free items - join or host your own! |
| ✍️ | Fresh Content | Original guides, tips & videos from our creators. |
| 💬 | Active Discord | Chat with our traders & get instant help. |


#### 4.5.7 价值点 - Why Choose Tradekitsune
**展示内容**：
- 平台介绍文案：
标题：🏆Why Choose Tradekitsune
Tradekitsune is a fan-made website.
From GAG to Blox Fruits & beyond - we're dedicated to helping every player trade safer, faster & wiser.
Trusted by 100,000+ players!

- 价值点：
图标 |	标题 |	描述
🔒	SAFE & FAST |	Connect with traders instantly.

🎯	FAIR DEALS |  WFL calculators to spot great trades.

📈	LIVE VALUES |	Never miss a market change.

📚	LEARN & GROW |	Tips & guides for smarter trades.

- **分享按钮、TRUSTPILOT按钮**：复用giveaway聚合页的按钮逻辑、样式，TP下方展示静态的评分和星级。


#### 4.5.8 FAQ
FAQ模块每条问题默认折叠，内容为平台通用FAQ，文案见表格：
https://doc.weixin.qq.com/sheet/e3_AWkAuwbIADoCNIm2N73E1Tyy5zrhB?scode=AFIANgeJAA0naDmjOtAWkAuwbIADo&tab=7wqbg6


---

### 4.6 单游戏首页（MVP，视觉已定稿）
视觉稿：https://www.figma.com/design/UpWKSFehc5CiNRo1GA3sPG/home?node-id=2235-12072&p=f&t=VYgXzJkyKpjYFYK0-0

> **设计原则**：
- 游戏首页主体复用现网GAG首页的模块结构和样式，新增"游戏信息区"和"Value Top List"模块，调整底部通用导流位增加跨游戏入口。
- 游戏首页共用同一页面模板，通过配置实现快速上线；如某游戏没有某个模块数据，则该模块不展示

  
#### 4.6.1 模块布局（通用结构）
| 模块位置 | 模块名称 | 内容说明 | 是否新增/调整 |
|----------|----------|----------|---------------|
| 0 | 顶部通知 | 轮播通知，运营配置 | 复用 |
| 0 | Hero区 | 页面标题+副标题、底图 | ✅ 调整 |
| 1 | 游戏信息区 | 游戏介绍 + 数据统计 | ✅ 新增 |
| 2 | 轮播banner位 | 运营配置 | 复用现网 |
| 3 | Hot Trading Items | 热门交易道具列表 | 分游戏组件 |
| 4 | Latest Trading List | 最新订单列表 | 分游戏组件 |
| 5 | 工具箱 | Toolbox工具入口 | 交互复用 |
| 6 | Value Top List | 右侧栏展示道具价值排行 | ✅ 新增 |
| 7 | Featured Articles | 精选文章（仅GAG） | 复用现网 |
| 8 | Official Videos | youtube视频 | 复用现网 |
| 7 | 跨游戏导流位 | 多游戏入口Banner | ✅ 调整 |


#### 4.6.2 顶部轮播通知（复用现网）
- 复用现网逻辑，在管理端增加分游戏的选项，支持运营按照游戏选择配置在哪个游戏首页（支持单选/多选）


#### 4.6.3 Hero区（复用）
**GAG首页标题与副标题不变**；BF首页文案如下：
- 页面标题：Blox Fruits Trading Hub - Trade Fruits & Items Safely
- 副标题：Browse live trades, compare values & find fair deals.

**核心数据**：展示该游戏对应的Giveaways、Ongoing Trades、Completed Trades，如没有Giveaways这项数据则该游戏不展示此入口，适用其他新游。

**按钮入口**：
- POST A TRADE：点击跳转对应游戏的创建交易页。
- PET VALUE/WIKI：GAG不变，BF上线时因为还没有value页面，所以暂时先跳转到wiki列表页。


#### 4.6.4 游戏信息区（本期移除该区域）
游戏信息区可通过配置项支持新游快速上线（前期无需管理端，运营收集好信息后，由研发配置即可）


#### 4.6.5 轮播banner位（复用现网）
复用现网逻辑，在管理端增加分游戏的选项，支持运营按照游戏选择配置在哪个游戏首页（支持单选/多选）


#### 4.6.6 热门道具（复用现网）
- 模块复用现网"Hot Trading Items"模块的数据查询逻辑和展示样式，展示组件则使用各游戏对应的
- 标题文案更新为："Hot Trading Items of {游戏全称}"
- 模块简介文案更新为拼接逻辑："Discover the most popular items in the {游戏名称} marketplace right now. There are currently {该游戏道具数量} items up for trade."
- TAB、道具卡片、VIEW MORE按钮对应各游戏，交互逻辑、拉取数量均不变。

#### 4.6.7 最新订单（复用现网）
- 文案"Latest Trade Listings",复用现网模块的数据查询逻辑和展示样式，展示组件则使用各游戏对应的
- 标题、简介文案逻辑不变，数据展示对应游戏的
  

#### 4.6.8 工具箱 - Toolbox工具入口（复用现网）
- 模块标题文案更新为拼接逻辑：Toolbox of {游戏名称}
- 复用现网Toolbox工具入口模块，根据游戏配置展示可用工具，配置项为图标、文案、跳转链接。
- GAG的工具list不变
- BF工具：Trade Calculator、Fruits Wiki、Fruits Tier List；点击跳转对应页面


#### 4.6.9 Value Top List（新增模块）
- **位置**：页面右侧栏，在工具箱下方；BF没有该数据则隐藏
- **标题**："Pet Value List"；BF上线时应为"Item Value List"
- **副标题**：更新时间，复用value list列表中数据拼接规则，例"Updated: Jan 15, 2026 12:00 AM UTC"
- **数据来源**：各游戏的道具Value数据库，与Value列表页使用同一份数据，取Top5
> **注**：右侧栏展示时仅展示到趋势图，不展示Value列表页表格中的其他字段
- **交互**：标题行点击跳转Value列表页；单行点击跳转对应的道具value详情页


#### 4.6.10 Featured Articles 文章模块（复用现网）
复用现网"Featured Articles"模块

**适用范围**：仅GAG首页展示；MVP阶段BF暂无文章内容，待内容积累后再添加该模块。


#### 4.6.11 Official Videos 视频模块（复用现网）
标题与简介文案不变；样式与交互复用现网逻辑，但需要区分拉取同一youtube频道中不同游戏的视频内容。
- 方案1：按频道中的"播放列表"拉取
- 方案2：按视频标题筛选对应的游戏名称进行拉取
（具体根据可实现的方案来定）


#### 4.6.12 跨游戏导流位（调整）
引导用户探索其他游戏，横幅Banner样式
**元素**：
- 模块标题：🌟 Your Ultimate Roblox Trading Hub
- 描述：
Trade items from Grow a Garden, Blox Fruits, and more Roblox games in one place.
Over **100,000** players trust **TradeKitsune** for fair trades, live values, and safer deals.
- 游戏卡片入口：游戏图标+游戏名称+道具数量+订单数量（所有创建的交易数量，KMB标记）+"TRADE NOW"按钮；卡片整体响应点击，跳转`/对应游戏/tradelist`页面
- 更多游戏：More games coming soon!+ Vote for your favorite（文字链，跳转discord投票入口）


---

### 4.7 聊天页面（方案、视觉均已定稿）
说明：之前交易链路优化中聊天页的优化需求作废，以此版需求进行开发。
视觉稿：https://www.figma.com/design/oS9Yg9snhnkrTR3QF8f0Bf/chat?node-id=3240-5265&t=lLm1gQIizAA3mKYG-0

方案对比：
<img width="1183" height="637" alt="局部截取_20251224_164916" src="https://github.com/user-attachments/assets/b7ac2a7a-6c0c-4182-8413-f09f529a6ead" />

聊天页作为公共页面：
- [x] 聊天页采用公共路径 `/chat`，不分游戏
- [x] 通过顶部Tab实现游戏筛选（All/GAG/BF）
- [x] 用户私聊展示游戏角标
- [x] 系统通知区分公共与游戏相关，游戏相关则显示角标


#### 4.7.1 URL结构与路由
（以下URL为示例，以研发实际实现为准，主要目的为在同一页面上能通过tab切换实现便捷的展示所有与某游戏相关聊天）
| URL | 说明 |
|-----|------|
| `/chat` | 聊天页主路径，默认展示"All"标签 |
| `/chat?game=xxx` | GAG游戏相关会话 |
| `/chat?game=yyy` | BF游戏相关会话 |


#### 4.7.2 页面布局与Tab筛选
<img width="490" height="104" alt="局部截取_20251229_151424" src="https://github.com/user-attachments/assets/fc181483-7264-4653-bcac-dc0923970272" />

**顶部Tab栏**
- All：系统消息置顶+全部会话混排（默认）
- Grow a Garden：Grow a Garden 相关，不展示系统消息
- Blox Fruits：Blox Fruits 相关，不展示系统消息

**Tab交互逻辑**
- 切换Tab时更新URL参数 `?game=xxx`
- 各Tab上显示未读消息数，如没有未读消息则不展示
- 无参数进入时默认显示"All"

#### 4.7.3 游戏角标标识

| 会话类型 | 角标规则 |
|----------|----------|
| 用户消息卡片（大屏左侧列表） | 展示所属游戏标签（文案为游戏名称），支持点击，点击后在**新页面**打开游戏首页 |
| 聊天窗口（大屏右侧聊天消息区） | 在交易信息卡片区域的首行右侧展示所属游戏标签（文案为游戏名称），支持点击，点击后在**新页面**打开游戏首页 |
| 系统通知-公共 | 如无游戏关联关系，则展示原来不同类型的默认图标 |
| 系统通知-游戏相关 | 左侧展示对应游戏图标 |

<img width="594" height="633" alt="局部截取_20251229_151749" src="https://github.com/user-attachments/assets/b844c243-fc86-4eb5-a666-047e32f9aef6" />
<img width="1080" height="590" alt="局部截取_20251229_152019" src="https://github.com/user-attachments/assets/e85ebec1-882f-414a-8d92-95e6d6a474cd" />
<img width="997" height="488" alt="局部截取_20251229_152411" src="https://github.com/user-attachments/assets/a07ebd3d-747c-4409-9182-cdd397f0d860" />

其他微调：用户聊天窗口中展示在线时间使用拼接逻辑（也复用在个人中心展示）"Days + Time",效果见视觉稿


#### 4.7.4 聊天窗口中交易信息卡片优化
- 将右侧view details改到左边用标题行跳转详情页，强化可点击效果，整行响应。标题行文案："View details of {订单号}"。
- 首行右侧为游戏标签，支持点击，点击后在**新页面**打开游戏首页
- 交易信息展示则复用BF的订单列表中卡片样式（在公共组件部分更新）
- **交互调整**：当前交易信息卡片为固定，占用较多视野空间，移动端消息可视区域太小。采用**滚动隐藏/显示**方案优化用户有效视野

交互逻辑（以下为示例，具体实现由研发与视觉确认）

| 用户行为 | 交易信息卡片卡片状态 | 说明 |
|----------|------------|------|
| **页面加载** | 显示 | 初始状态正常展示 |
| **向下滚动** | 隐藏 | 滚动超过阈值（如50px）后，向上滑出隐藏 |
| **向上滚动** | 显示 | 任意向上滚动即触发卡片滑入显示 |
| **滚动到顶部** | 显示 | 窗口滚动到最顶部时，卡片始终显示 |
| **悬停在卡片区域** | 保持显示 | 鼠标悬停在卡片上时不隐藏（大屏） |


#### 4.7.5 入口场景与默认行为

| 入口场景 | 跳转URL | 默认行为 |
|----------|---------|----------|
| 公共导航栏点击"MESSAGE" | `/chat` | 选中All标签 |
| GAG游戏导航栏点击"MESSAGE" | `/chat?game=xxx` | 选中GAG标签 |
| BF游戏导航栏点击"MESSAGE" | `/chat?game=yyy` | 选中BF标签 |
| 订单确认后自动跳转 | `??` | 直接打开与对方的1v1聊天 |
| (未来可拓展-开放私聊)用户主页点击"Send Message" | `/chat?conv={会话id}` | 直接打开与该用户的1v1聊天 |

#### 4.7.6 URL参数优先级
（待与研发讨论：是否有可能存在多个参数，如有则需确定优先级和处理方式）

---

### 4.8 订单列表页（GAG & BFd兼容）
视觉稿：https://www.figma.com/design/xdE0gkdiExlrPYHHF7KTTu/trade?node-id=6180-32177&t=D34KYhDLkJCBtpMg-0

> **定位**：Blox Fruits 订单列表页，可复用 GAG 订单列表页模板，进行游戏特定内容配置。  
> **参考文档**：`订单列表页-2025年11月更新.md`

#### 4.8.1 页面模板化设计建议

**通用不变模块**
| 模块 | 说明 |
|------|------|
| 页面布局结构 | Hero Banner + 搜索区 + 筛选区 + 订单信息卡片列表 + 分页 + FAQ + 底部工具入口 |
| 搜索框交互 | 搜索逻辑、placeholder 格式一致（详见5.1 组件-订单列表） |
| 筛选区结构 | 跟该游戏的公共组件走（详见5.1 组件-订单列表） |
| 订单卡片布局 | 卡片结构、交互逻辑由该游戏的订单列表组件决定（详见5.1 组件-订单列表）|
| 分页组件 | 整站使用统一组件，样式与交互一致 |


**需配置/灵活设置**
| 模块 | 配置项 | GAG 值 | BF 值 |
|------|--------|--------|-------|
| Hero Banner | 标题文案 | `Grow A Garden Trading - Browse Live GAG Trade List` | `Blox Fruits Trading - The Lattest Trade List` |
| Hero Banner | 副标题文案 | `Explore The Grow A Garden Trade List And Start GAG Trading Safely Today.` | `Browse the hottest trades of Blox Fruits. Trade safely and fast!` |
| View Trading Guide | 跳转链接 | GAG 指南页（替换文章） | BF 指南页（新建单独的文章，链接待补充） |
| 交易统计数据 | 显示文案（相同） | `Ongoing Trades` / `Completed Trades` | 同 |
| 交易统计数据 | 数据源 | GAG 交易数据 | BF 交易数据 |
| 主按钮 | 跳转链接 | GAG 创建交易页 | BF 创建交易页 |
| 工具文字链入口 | 工具1 | `GAG Pet Value` → Value 列表页 | `Blox Fruits Wiki` → Wiki 列表页 |
| 工具文字链入口 | 工具2 | `GAG Value Calculator` → 计算器页 | `Trade Calculator` → trade value计算器页 |
| FAQ | 内容 | GAG 相关 FAQ | BF 相关 FAQ（待运营提供） |
| 底部卡片工具入口 | 图标、文案、跳转链接（见下文） | GAG 相关 | BF 相关 |
| SEO | TDK | GAG 相关 | BF 相关 |


##### 4.8.2 底部工具入口卡片

**布局与交互**：3个工具入口卡片，横向排列；整个卡片响应点击

**工具卡片 1**：
```
图标：计算器图标
标题：Trade Value Calculator
描述：Calculate the value of your Blox Fruits trades
跳转：/bloxfruits/trade-calculator
```

**工具卡片 2**：
```
图标：Wiki 图标
标题：Blox Fruits Wiki
描述：Explore all fruits and gamepasses
跳转：/bloxfruits/wiki
```

**工具卡片 3**：
```
图标：榜单
标题：Blox Fruits Tier List
描述：View the rankings of all fruits
跳转：/bloxfruits/tier-list
```

##### 4.8.3 FAQ 模块
标题文案：FAQ of Blox Fruits Trading
（ps, GAG该页面FAQ模块标题文案也需更新：FAQ of Grow a Garden Trading）

具体FAQ内容待运营补充

**预留结构**：
```
Q: How do I trade in Blox Fruits?
A: [待补充]

Q: What determines fruit value?
A: [待补充]

Q: How do I know if a trade is fair?
A: [待补充]

Q: What are the different fruit rarities?
A: [待补充]
```

##### 4.8.4 SEO 配置
待细化


---

### 4.9 创建交易页（BF适配方案）
视觉稿：https://www.figma.com/design/xdE0gkdiExlrPYHHF7KTTu/trade?node-id=6187-36279&t=uYJlr0wrhT2bAcBn-0

> **参考基线**：`创建交易页与订单详情页-2025年11月更新.md`  
> **设计原则**：增量迭代，复用GAG核心逻辑，仅细化BF差异部分

#### 4.9.1 GAG与BF差异对照表
需求详情见后文，以下为整体概览：
| 维度 | GAG（基线） | BF（本次） | 说明 |
|------|-------------|------------|------|
| **页面标题区** | Create a New Trade of {游戏A全称} | Create a New Trade of {游戏B全称} | 主标题增加游戏名称；副标题不变 |
| **道具槽位** | 左右各12格（6x2） | 左右各4格（2x2） | BF游戏内交易限制为4个 |
| **Open Offer NLF区域** | 右侧12格 | 相同 | NLF区域保持12格，方便设置不想要的道具 |
| **Token概念** | 有Token，支持Token交易 | **无Token** | BF无Token货币，移除所有Token相关逻辑 |
| **Value滑块** | Value/Token双模式 | **纯Value滑块** | 简化为仅Value模式 |
| **Beli Value** | 无 | **新增展示** | 需展示Beli Value及差值 |
| **价差阈值** | 无硬性限制 | **40%禁止提交 / 60%凑数提示** | 两档阈值逻辑 |
| **特殊道具警告** | 无 | **Perm/Limited自动赎回警告** | 提示，非弹窗 |
| **Trade Summary格式** | `{名称} x{数量} · {稀有度} · {Age} · {kg} · Value {值}` | 无年龄、体重，增加Beli Value | 字段调整 |
| **HOW TO** | 图片+文案 | 文案微调 | 整体复用 |
| **Friendly Reminders** | 文案 | 文案微调 | 整体复用 |
| **FAQ** | GAG相关内容 | BF相关内容（待补充） | 后续提供 |


#### 4.9.2 页面结构（复用不变）

以下模块逻辑与GAG一致，不再赘述：
- Tab切换（Specific Trade / Open to Offers; tab使用游戏主题色，跟随游戏换肤逻辑走）
- 中间Value对比区（WIN/LOSS/FAIR状态、进度条）
- 操作按钮（CLEAR ALL / POST TRADE）


#### 4.9.3 Specific Trade模式 - BF调整 

##### 4.9.3.1 左右两侧道具区

**槽位调整**：
- 左右侧 My Items/Looking for Items：各**4格**
- 使用BF道具卡片（展示Fruits类型道具的PERM标签），格子底色对应道具稀有度（Common/Uncommon/Rare/Legendary/Mythical/Premium）
- Fruits类型道具的Permanent类以角标形式标识，默认Physical果实不展示
- 添加、删除等基础交互不变

##### 4.9.3.2 Trade Summary
**拼接规则**：` {道具名称} x {数量} · {Category} · {普通/永久} · {稀有度} · Value {Value值} · Beli Value {Beli Value值}`

其中，道具名称、Category、普通/永久、稀有度字段突出显示（加粗/颜色，具体以视觉设计为准）；如该道具某字段数据为空则不展示该字段。

```
Trade Summary                    Value Details
- Dragon x1 · Fruit · Permanent · Uncommon · Value 2.5M · Beli Value 3.5M
- Dark Blade x1 · Limited · Value 1.2M · Beli Value 0

```

点击"Value Details"后弹窗内容：
- Trade Summary：按上面规则原样展示
- Trade Value Details：value公式披露规则（由家铭确认）
- 底部提示信息：简要说明什么是Value和Beli Value
文案："Note: Trade value reflects ability and market trends of items, while Beli Value is the in-game currency used for trade validation."
  

##### 4.9.3.3 Beli Value展示区（新增）
详见4.9.5部分

#### 4.9.4 Open to Offers模式 - BF调整

##### 4.9.4.1 左侧 My Items区域
- **4格**（2x2），与Specific Trade一致

##### 4.9.4.2 右侧 Open to Offers区域

**NLF区域**：帮助买家了解避免报价哪些道具，与GAG一致
- **12格**（6x2）、复选框启用/禁用均不变。
- Tooltip提示文案微调：pets -> items
<img width="569" height="123" alt="局部截取_20260106_155956" src="https://github.com/user-attachments/assets/2093fc39-0f9c-4ea0-b795-f3769e0c4334" />

**Value Requirement滑块**：移除Token相关，简化为纯Value模式，其他基础逻辑不变
- 小标题文案：Value Requirement
- 文案：`Lowest Value I'll accept: {value值(KMB标记)}`
- 右下角文案：`Max Value: {value值(KMB标记)}`

**问号弹窗文案**：
```
Want to make sure you get decent offers?

Use the slider to pick the lowest value you'll accept. 
Any offer from others must be worth more than this to be posted successfully!
```


#### 4.9.5 Beli Value展示、校验与提示信息区（统一逻辑）

> **设计原则**：将Beli Value展示、阈值提示、特殊物品警告统一整合到一个"提示信息区"，减少页面复杂度，方便研发实现。本节逻辑适用于**创建交易页**和**订单详情页**的所有场景。
<img width="880" height="494" alt="局部截取_20260108_104727" src="https://github.com/user-attachments/assets/092bd1ac-c0f8-42c5-b3b4-37023f439006" />


##### 4.9.5.1 提示信息区概述

**位置**：中间WFL对比区下方，紧贴进度条
<img width="598" height="120" alt="局部截取_20260106_175350" src="https://github.com/user-attachments/assets/4aa6affb-56e7-4d72-9aa9-494225f0b07c" />

**组成元素**：
1. **Beli Value展示行**：展示双方Beli Value及价差
2. **警告/提示信息**：根据场景动态显示（阈值提示、特殊物品提示）

- 单一UI区域，动态渲染内容
- 大屏时展示在左右侧面板中间（WFL下方）；中小屏时在提交按钮上方

##### 4.9.5.2 价差计算公式

```
价差比例 = |左侧Beli Value - 右侧Beli Value| / max(左侧Beli Value, 右侧Beli Value) × 100%
即，两边道具beli差值/两边较高一侧的beli值
```
**规则**：
- 物理果实：使用官方Beli价格（取数据表中Beli字段）
- 永久果实/GamePass/Limited：Beli = $0
- Difference上限 = 100%

举例：
<img width="645" height="428" alt="局部截取_20260108_112334" src="https://github.com/user-attachments/assets/8c6735ba-639d-4018-906c-0c57d5df4c1a" />


##### 4.9.5.3 三种交易场景

| 场景 | 道具组合 | 核心判断逻辑 | 能否提交 |
|------|----------|--------------|----------|
| **A** | 纯物理 vs 纯物理 | 价差 > 40% | ❌ 阻止 |
| **B** | 任一方含Perm/Limited（不管是否有GP） | 直接豁免Beli校验 | ✅ 允许 |
| **C** | 任一方含Gamepass且不含Perm/Limited | 价差 > 60% 时凑数提示 | ✅ 允许 |


##### 4.9.5.4 提示区域

**1. Beli Value展示区**
**定义**：Beli Value=Beli, 指道具在游戏中的金币值，同时是游戏中计算交易价差的依据（在游戏交易面板中展示为"Value"）。为了跟我们平台定义的道具市场价值Value区分，同时为便于玩家结合游戏语境，所以这里增加一个名称"Beli Value"。
只有Fruits中普通类型（Physical）道具才有不同的Beli值，而Fruits中永久类型、Limited、gamepass这些特殊道具都是Beli值为0。
<img width="734" height="274" alt="局部截取_20260108_111824" src="https://github.com/user-attachments/assets/11cc7fa3-e4b7-465b-a13e-e086f9bd5a2b" />


此行默认常驻展示，不区分场景
```
┌────────────────────────────────────────────────────────┐
│  $ Beli Value: 3.5M vs 2.8M (Diff: 700K / 25%)  ⓘ     │
└────────────────────────────────────────────────────────┘
```

**Beli Value计算与展示逻辑**：
- 拼接逻辑：图标 + Beli Value: {左侧面板中道具的Beli合计值（KMB标记）} vs  {右侧面板道具的Beli合计值（KMB标记）} (Diff: {左右侧Beli合计值差值的绝对值} / 价差比例)
ps, 价差比例**详见4.9.5.2 价差计算公式**


**Beli Value说明文案**（点击ⓘ后弹窗展示）：
```
What is Beli Value?
Beli Value (equal to the item's Beli) is used in-game to determine if a trade can be completed. Trades with large Beli Value differences (especially involving Physical Fruits or Gamepasses) may fail. 
Special items (Permanent Fruits, Gamepasses, Limited items) have $0 Beli Value, which allows trades to bypass the strict limit.
See FAQ for details.
```
- "FAQ"为文字链，跳转页面底部FAQ对应问题的小标题

其他状态提示视觉稿：https://www.figma.com/design/xdE0gkdiExlrPYHHF7KTTu/trade?node-id=3102-93594&p=f&t=uYJlr0wrhT2bAcBn-0
<img width="1045" height="574" alt="局部截取_20260108_162515" src="https://github.com/user-attachments/assets/1d6fbdc5-2701-4987-9b1a-ae7f3a971ef0" />

**2. 场景A价差过大-阻止提示（红色错误框）**
```
┌─────────────────────────────────────────────────────────────┐
│ ⛔ **Trade cannot be posted. **                             │
│ Beli Value difference is {实际价差比例} (Max. 40%), which will   │
│ cause in-game trade failure.                                │
└─────────────────────────────────────────────────────────────┘
```

**3. 特殊物品提示（橙色提示框）**
```
┌─────────────────────────────────────────────────────────────┐
│ ⚠️ **Special items detected.** [View Trade Guidelines]│
└─────────────────────────────────────────────────────────────┘
```
- `[View Trade Guidelines]` 为可点击文字链，点击后弹窗展示详情

**4. 凑数提示（可与特殊物品提示合并显示）**
```
┌─────────────────────────────────────────────────────────────┐
│ ⚠️ **Beli Value difference is over 60%.**                   │
│    Consider adding filler items to help balance the trade.   │
│ ⚠️ **Special items detected.** [View Trade Guidelines]      │
└─────────────────────────────────────────────────────────────┘
```

##### 4.9.5.5 特殊物品提示弹窗

**触发**：点击提示区的 `[View Trade Guidelines]`

<img width="614" height="298" alt="局部截取_20260108_160103" src="https://github.com/user-attachments/assets/b810f007-3b6e-4821-8dbf-95770a0bb180" />

**弹窗文案**：
```
┌─────────────────────────────────────────────────────────────┐
│              Special Item Trade Guidelines                   │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  📤 If You're GIVING a Special Item                         │
│  To trade the Permanent Fruits, Limited items or Gamepasses, │
│  you MUST purchase it via **"Gift" → "Store in Inventory"**. │
│  Items bought via "Buy" are auto-equipped and **CANNOT** be traded.│
│  ───────────────────────────────────────────────────────      │
│  📥 If You're RECEIVING a Special Item                       │
│  The special item will auto-activate upon receipt. You cannot │  
│   trade it again.                                             │
│                                                               │
│                                               [ Got it ]      │
└─────────────────────────────────────────────────────────────┘
```

**设计说明**：
- 用户可根据自身情况关注相应内容
- 弹窗内容不区分用户角色（创建者/接单者/报价者），统一展示双向提示,简化研发逻辑，所有场景复用同一弹窗组件


#### 4.9.6 判断流程图
**场景判断优先级**（命中即停止）：
```
优先级1：场景B（含Perm/Limited）→ 豁免Beli校验
优先级2：场景C（含GP不含Perm/Limited）→ 60%阈值校验
优先级3：场景A（纯物理）→ 40%阈值校验
```

```mermaid
flowchart TD
    START[开始交易校验] --> CHECK_PERM{任一方含<br/>Perm/Limited?}
    
    CHECK_PERM -->|是| SCENE_B[场景B: 豁免Beli校验]
    SCENE_B --> ALLOW_B[✅ 允许提交]
    ALLOW_B --> WARN_B[显示特殊物品提示]
    
    CHECK_PERM -->|否| CHECK_GP{任一方含<br/>Gamepass?}
    
    CHECK_GP -->|是| SCENE_C[场景C: 含GP但不含Perm/Limited]
    SCENE_C --> CALC_60{Beli价差 > 60%?}
    CALC_60 -->|≤ 60%| ALLOW_C1[✅ 允许提交]
    ALLOW_C1 --> WARN_C1[仅显示特殊物品提示]
    CALC_60 -->|> 60%| ALLOW_C2[✅ 允许提交]
    ALLOW_C2 --> WARN_C2[显示特殊物品提示 + 凑数提示]
    
    CHECK_GP -->|否| SCENE_A[场景A: 纯物理 vs 纯物理]
    SCENE_A --> CALC_40{Beli价差 > 40%?}
    CALC_40 -->|≤ 40%| ALLOW_A[✅ 允许提交]
    CALC_40 -->|> 40%| BLOCK_A[❌ 阻止提交]
```


##### 4.9.7 提示信息区展示规则（完整对照表）

以下对照表覆盖**创建交易页**和**订单详情页**的场景，主要供用例设计参考：

| 页面 | 订单类型 | 用户角色 | 场景 | Beli Value展示行 | 警告/提示信息 | 按钮状态 |
|------|----------|----------|------|------------------|---------------|----------|
| **创建交易页** | Specific Trade | 创建者 | A（价差≤40%） | ✅ 显示 | 无 | 可点击 |
| **创建交易页** | Specific Trade | 创建者 | A（价差>40%） | ✅ 显示 | 🔴 红色错误提示 | ❌ 置灰 |
| **创建交易页** | Specific Trade | 创建者 | B（含Perm/Limited） | ✅ 显示 | ⚠️ 特殊物品提示 | 可点击 |
| **创建交易页** | Specific Trade | 创建者 | C（含GP，价差≤60%） | ✅ 显示 | ⚠️ 特殊物品提示 | 可点击 |
| **创建交易页** | Specific Trade | 创建者 | C（含GP，价差>60%） | ✅ 显示 | ⚠️ 特殊物品提示 + 凑数提示 | 可点击 |
| **创建交易页** | Open to Offers | 创建者 | B/C（我的道具含特殊物品） | - | ⚠️ 特殊物品提示 | 可点击 |
| **订单详情页** | Specific Trade | 客态 | B（含Perm/Limited） | ✅ 显示 | ⚠️ 特殊物品提示 | 可点击 |
| **订单详情页** | Specific Trade | 客态 | C（含GP，价差≤60%） | ✅ 显示 | ⚠️ 特殊物品提示 | 可点击 |
| **订单详情页** | Specific Trade | 客态 | C（含GP，价差>60%） | ✅ 显示 | ⚠️ 特殊物品提示 + 凑数提示 | 可点击 |
| **订单详情页** | Open to Offers | 客态（Make Offer） | A（价差≤40%） | ✅ 显示 | 无 | 可点击 |
| **订单详情页** | Open to Offers | 客态（Make Offer） | A（价差>40%） | ✅ 显示 | 🔴 红色错误提示 | ❌ 置灰 |
| **订单详情页** | Open to Offers | 客态（Make Offer） | B（含Perm/Limited） | ✅ 显示 | ⚠️ 特殊物品提示 | 可点击 |
| **订单详情页** | Open to Offers | 客态（Make Offer） | C（含GP，价差≤60%） | ✅ 显示 | ⚠️ 特殊物品提示 | 可点击 |
| **订单详情页** | Open to Offers | 客态（Make Offer） | C（含GP，价差>60%） | ✅ 显示 | ⚠️ 特殊物品提示 + 凑数提示 | 可点击 |
| **订单详情页** | Open to Offers | 订单主态 | 任意 | ✅ 显示 | 同GAG逻辑，与创建交易时一致，但不支持修改 | N/A |

**说明**：
- Specific Trade订单在创建时已通过校验，不可能存在"场景A价差>40%"的情况，因此订单详情页无需场景A的阻止逻辑
- Open to Offers的Make Offer需实时校验，完整适用场景A/B/C逻辑


#### 4.9.8 HOW TO模块（GAG的创建交易页也一并更新）
- 标题文案调整为：How to Post a Trade on Tradekitsune 
- Step 3中的正文文案：pets -> items
- Step 2中的标题文案更换为：Select Your Items
- Step 2中的正文文案更换为：Add the items you want to trade, and adjust the item's parameters for best value.


#### 4.9.9 Friendsly Reminder模块
无变化，直接复用


#### 4.9.10 FAQ模块
- 标题文案：FAQ of {游戏名称}
- FAQ文案内容：https://doc.weixin.qq.com/sheet/e3_AWkAuwbIADoCNIm2N73E1Tyy5zrhB?scode=AFIANgeJAA0ls1cl33AWkAuwbIADo&tab=BB08J2


#### 4.9.11 SEO配置(待细化)

| 项目 | 内容 |
|------|------|
| **Title** | `Create Trade - Blox Fruits Trading \| TradeKitsune` |
| **Description** | `Create your Blox Fruits trade. Select fruits, gamepasses, or limited items. Check value differences and post your trade safely.` |
| **H1** | `Create a New Trade` |
| **URL** | `/bloxfruits/trade/create` |

---

### 4.10 订单详情页（BF适配方案）
视觉稿：https://www.figma.com/design/xdE0gkdiExlrPYHHF7KTTu/trade?node-id=6273-28346&p=f&t=uYJlr0wrhT2bAcBn-0

> **参考基线**：`创建交易页与订单详情页-2025年11月更新.md`  
> **设计原则**：增量迭代，复用GAG核心逻辑，仅细化BF差异部分

#### 4.10.1 GAG与BF差异对照表

| 维度 | GAG（基线） | BF（本次） | 说明 |
|------|-------------|------------|------|
| **道具槽位** | 左右各12格 | 左右各4格 | Specific Trade和客态Open Offer的Your Offers均为4格 |
| **Open Offer Your Offers区域** | 12格 | **4格** | 与创建交易页一致 |
| **Token展示** | 有Token显示 | **无Token** | 移除所有Token相关 |
| **Beli Value** | 无 | **新增展示** | 展示Beli Value及差值 |
| **价差阈值提示** | 无 | **40%/60%阈值提示** | 与创建交易页一致 |
| **特殊道具警告** | 无 | **Perm/Limited警告** | 与创建交易页一致 |
| **Trade Summary格式** | GAG格式 | BF格式 | 与创建交易页一致 |
| **底部工具入口** | GAG相关 | BF相关（3个） | 与创建交易页一致 |

#### 4.10.2 页面结构（复用不变）

以下模块逻辑与GAG完全一致，不再赘述：
- 页面头部（面包屑、用户信息、广告位）
- 分享与discord入口（仅更新频道链接）
- Offer List模块（仅Open to Offers类型）
- More Similar Trades模块
- How to Trade on Tradekitsune指南卡片
- Friendly Reminders
- FAQ

#### 4.10.3 指定订单详情（Specific Trade）

##### 4.10.3.1 主客态共用调整
左右侧卡片基础逻辑与原GAG一致，槽位变化、Trade Summary、value details弹窗调整和创建交易页相同。

**中间Value对比区**：
- WIN/LOSS/FAIR状态（逻辑不变，基于Trade Value计算）
- 进度条展示
- **新增**：Beli Value展示行（与创建交易页一致）

##### 4.10.3.2 提示信息区

**展示规则**：参照4.9.5节"提示信息区展示规则（完整对照表）"中订单详情页对应的行。

**核心说明**：Specific Trade订单在创建时已通过Beli Value校验，不可能存在场景A（纯物理价差>40%）的情况，因此无需场景A阻止逻辑。

##### 4.10.3.4 操作按钮

- **ACCEPT TRADE**：接受交易（绿色按钮）
- 按钮始终可点击（因订单已通过创建时校验）

#### 4.10.4 开放订单详情（Open Offers）

##### 4.10.4.1 客态视角（买方Make Offer）

**左侧卡片 - 卖家道具**：
- 与Specific Trade一致，4格

**右侧卡片 - Your Offers**：
- 标题：`Your Offers (X/4)`
- **4格**道具槽位（2x2），点击"+"添加报价道具
- Trade Summary使用BF格式

**中间提示**：取消（只修改BF）
open offer时, 因中间区域占用，所以卖家最低value条件在中间的提示信息取消，移到右侧面板底部作为tooltip展示
<img width="1130" height="605" alt="局部截取_20260108_155942" src="https://github.com/user-attachments/assets/dd5b2e1d-229b-40a0-bb70-6ac2a0929ea8" />
其他判断逻辑不变

**底部信息**：
- `Lowest Value required: {value值(KMB标记)}`（移除Token，增加tooltip）
tooltip文案：
"Open offer must meet [用户名]'s minimum value requirement: {value值(KMB标记)}."


##### 4.10.4.2 提示信息区（Make Offer校验）

**展示规则**：参照4.9.5节"提示信息区展示规则（完整对照表）"中"订单详情页"对应的行。

**核心说明**：买方填入报价道具后，需实时计算与卖家道具的Beli Value价差，完整适用场景A/B/C校验逻辑。场景A价差>40%时阻止提交。

##### 4.10.4.3 操作按钮

- CLEAR ALL、MAKE OFFER：与GAG基础交互一致，但当场景A价差>40%时提交按钮置灰不可点击。
- 按钮下方提示文字：`Add items to make your offer. If there's a minimum value, make sure your offer meets it.`

##### 4.10.4.4 主态视角

**左侧卡片**：与客态一致，4格展示自己的道具

**右侧区域**：
- 显示Open to Offers图标和说明
- NLF设置展示
- Value条件展示：`Lowest Value I'll accept: {value值}`、`Max Value: {value值}`

**Beli Value展示**：参考前文对照表

#### 4.10.5 Offer List模块

**卡片展示**：
- 使用BF订单组件（4格布局）

#### 4.10.6 How to Trade

> **1/21更新**：文案调整为站点通用版本，适用于所有游戏的订单详情页

**区域标题**：`How to Trade on TradeKitsune >`

**3个指南卡片（通用多游戏版本）**：

| 图标 | 标题 | 内容 |
|------|------|------|
| 🛡️ | Safe Trading | • Verify the trader's in-game Roblox ID matches their profile ID.<br>• Always use the official in-game trading system to avoid scams.<br>• Never click on unknown or third-party links. |
| 📊 | Value Assessment | • Track market trends using our real-time **Item Value List** for your game.<br>• Rare traits and limited editions often carry extra value.<br>• Compare recent trades before setting your price. |
| ⏰ | Timing Your Trades | • Trade during peak hours for faster matches.<br>• New items often peak in value shortly after release.<br>• Activity is higher during holidays and game events. |


#### 4.10.7 FAQ模块
文案已定稿，企微文档地址：https://doc.weixin.qq.com/sheet/e3_AWkAuwbIADoCNIm2N73E1Tyy5zrhB?scode=AFIANgeJAA0naDmjOtAWkAuwbIADo&tab=e5sas6


#### 4.10.8 底部导流模块
<img width="918" height="342" alt="局部截取_20260121_175747" src="https://github.com/user-attachments/assets/2aa0a2d4-eeaa-4654-9594-63e49e2fbfc6" />

替换为游戏首页底部的公共导流模块，待游戏首页开发完成后复用即可。


#### 4.10.9 页面Title动态规则

**格式**：`Trade Details: [道具1], [道具2], [道具3] & more - Blox Fruits Trading`

**示例**：
- 单道具：`Trade Details: Dragon - Blox Fruits Trading`
- 多道具：`Trade Details: Dragon, Buddha, Dark Blade & more - Blox Fruits Trading`

---

### 4.11 用户主页（MVP，方案已确认）
视觉稿：https://www.figma.com/design/0M4JNzqICab4h3Vcewm8RZ/user?node-id=6426-22559&p=f&t=B8F0ft1uF8ns5eH0-0

> **2025-12-30 更新**：用户主页作为**公共页面**，使用**公共导航栏**，页面内游戏选择器定位为「数据筛选器」，不与导航栏联动。

#### 4.11.1 页面定位与导航栏关系

| 属性 | 说明 |
|------|------|
| 页面性质 | 公共页面 |
| 导航栏类型 | 公共导航栏（固定不变） |
| 游戏选择器性质 | 页面内「数据筛选器」，非全局上下文切换 |
| 与导航栏关系 | **无联动**，页面内切换游戏不影响导航栏状态 |

**设计理念**
- 用户主页的游戏选择器用于筛选展示「该用户在不同游戏中的数据」
- 与聊天页的Tab筛选逻辑一致：页面内筛选，不改变全局导航状态
- 保持公共页面框架的一致性和简洁性

#### 4.11.2 页面结构概览

| 区域 | 说明 | 是否调整 |
|------|------|----------|
| 用户基础信息区 | 头像、用户名、标签、注册时间、在线时间、统计数据等 | 不变 |
| Tab功能区 | 功能标签 + 游戏筛选器 | ✅ 调整 |
| Tab内容区 | 根据选中Tab和游戏筛选器展示对应内容 | ✅ 调整 |

#### 4.11.3 游戏筛选器设计
<img width="1455" height="743" alt="局部截取_20251231_135221" src="https://github.com/user-attachments/assets/74cb3b03-d609-4b0e-99fa-aaf20dc7e028" />

**位置与样式**
- 位于Tab行的**右侧**，与功能Tab保持同一水平线
- 采用**带前缀的下拉选择器**形式，明确其「筛选」而非「导航」的语义
**移动端适配**
- 宽度自适应，不超过屏幕宽度的60%
- 宽度较小时简化为图标形式示意，不用展示全部文案

**视觉示意**
```
┌────────────────────────────────────────────────────────────────────────────┐
│  [📦 Trades] [💬 Offers] [🎁 Giveaways] ...      Filter: [🌱 Grow a Garden ▼] │
│                                                                            │
│  ┌─────────────────────────────────────────────────────────────────────┐  │
│  │                          Tab内容区                                    │  │
│  │              （根据Tab + 游戏筛选器状态展示数据）                         │  │
│  └─────────────────────────────────────────────────────────────────────┘  │
└────────────────────────────────────────────────────────────────────────────┘
```

#### 4.11.4 交互逻辑
默认展示当前游戏，根据入口逻辑决定展示哪个游戏

**筛选器操作**
| 操作 | 行为 | 说明 |
|------|------|------|
| 点击/大屏hover筛选器 | 展开下拉菜单 | 显示所有可选游戏 |
| 选择游戏 | 切换筛选条件 | Tab内容区刷新为对应游戏数据 |
| 切换游戏 | URL参数更新 | `?game=x` ↔ `?game=y` |
| 切换游戏 | 导航栏状态 | **保持不变**（公共导航栏） |

**URL参数**
- 用户主页URL结构：`/user/{userId}?game={gameKey}`
- 仅作为页面内筛选状态，不影响全局导航

#### 4.11.5 场景示例

**场景1：从GAG订单详情页进入用户主页**
1. 用户在 `/growagarden/order/123` 查看GAG订单
2. 点击订单发布者头像，跳转至 `/user/xxx?game=gag`
3. 用户主页加载，游戏筛选器显示 `Filter: [🌱 Grow a Garden ▼]`
4. **导航栏保持为公共导航栏**（不受影响）
5. Tab内容展示该用户的GAG相关数据

**场景2：从BF Wiki页面进入用户主页**
1. 用户在 `/bloxfruits/wiki/dragon` 浏览BF道具
2. 点击自己的用户头像，跳转至 `/user/xxx?game=bf`
3. 用户主页加载，游戏筛选器显示 `Filter: [🍇 Blox Fruits ▼]`
4. **导航栏保持为公共导航栏**（不受影响）
5. Tab内容展示该用户的BF相关数据

**场景3：在用户主页内切换游戏筛选**
1. 当前在 `/user/xxx?game=gag`，查看该用户的GAG Trades
2. 点击筛选器，选择 `Blox Fruits`
3. URL更新为 `/user/xxx?game=bf`
4. **导航栏保持不变**（仍为公共导航栏）
5. Tab内容刷新为该用户的BF数据
6. 如当前Tab在BF中不可用，自动切换至第一个可用Tab

**场景4：从用户主页跳转至其他游戏页面**
1. 当前在 `/user/xxx?game=bf`，筛选器选中BF
2. 用户点击公共导航栏的 "Trade" 进入交易页
3. 因公共导航栏默认指向GAG，跳转至 `/growagarden/trade`
4. 符合预期：公共导航栏行为独立于页面内筛选器

#### 4.11.6 各游戏Tab结构

| Tab名称 | GAG | BF | 说明 |
|---------|-----|-----|------|
| Trades | ✅ | ✅ | 数据逻辑复用，BF使用BF的订单列表组件 |
| Offers | ✅(占位) | ✅(占位) | 首期均为占位，显示"Coming Soon" |
| Giveaways | ✅ | ❌ | BF暂不展示，待giveaway作为公共页面改版 |
| Favorites | ✅ | ✅ | GAG、BF首期均为占位 |
| Pet Collection | ✅ | ❌ | GAG专属功能，BF不展示 |

**BF首期Tab说明**
- **Trades**：数据查询逻辑复用GAG，订单列表展示使用BF专用的交易信息卡片组件（4格布局、BF特有样式等）
- **Offers**：首期为占位功能，Tab可点击，内容区展示"Coming Soon"提示。后续迭代时GAG与BF同步上线完整功能

#### 4.11.7 默认行为与边界处理

| 场景 | 处理方式 |
|------|----------|
| URL无game参数 | 默认筛选`gag` |
| URL game参数无效 | 降级筛选`gag` |
| 切换游戏后当前Tab不可用 | 自动切换至该游戏第一个可用Tab |
| 用户无该游戏该Tab数据 | 展示对应空状态提示 |
| 访问他人主页 | 筛选器正常可用，可查看对方不同游戏的公开数据 |

---

### 4.12 个人中心设置页
视觉稿：https://www.figma.com/design/0M4JNzqICab4h3Vcewm8RZ/user?node-id=5353-14038&t=B8F0ft1uF8ns5eH0-0

#### 4.12.1 页面定位

| 维度 | 说明 |
|------|------|
| **页面属性** | 公共页面，使用公共导航栏 |
| **设置范围** | 整站设置，不进行各游戏的单独控制 |
| **包含模块** | Privacy Settings（隐私设置）、Trading Time Preference（交易时间偏好，本次无调整） |

#### 4.12.2 Privacy Settings 模块
**核心定位**：
- 隐私设置为**全局设置**，一次设置对所有游戏生效
- 各Tab可见性控制是统一的开关，不区分游戏

**调整点**：由于不同游戏支持的Tab功能不同，需要在设置项中明确提示用户该设置适用于哪些游戏。MVP上线时，BF只有Trades和Offers、Favorites 3个tab。

#### 4.12.3 Privacy Settings 样式调整：添加游戏图标，直观展示该设置适用于哪些游戏。

<img width="1015" height="747" alt="image" src="https://github.com/user-attachments/assets/f8e83f01-8ad8-4a64-a8b1-7f27fba8cd3d" />

---

## 五、公共组件（MVP）
视觉稿：https://www.figma.com/design/4mDwVh4lJ2t1Yy7EcINY5t/UI-Kit?node-id=5497-5322&p=f&t=sgCQGbMGqkoaYeZV-0

> **设计原则：** 由于不同游戏交易相关字段、交易限制等要求差异较大，整体组件采取"复用原有样式和交互逻辑 + 根据游戏差异调整"的策略，需重新开发而非直接套用原有组件配置。搜索、筛选、排序等基础功能逻辑可复用，具体字段根据新游戏定义。

### 5.1 组件-订单列表（方案已确认）
视觉稿（UI KIT-trade）：https://www.figma.com/design/4mDwVh4lJ2t1Yy7EcINY5t/UI-Kit?node-id=5497-5322&p=f&t=c63GHtWw4oqqVShs-0
订单列表页：https://www.figma.com/design/xdE0gkdiExlrPYHHF7KTTu/trade?node-id=3100-40647&p=f&t=D34KYhDLkJCBtpMg-0

由通用功能（搜索、筛选、排序）和交易信息卡片构成。
<img width="1108" height="290" alt="局部截取_20260107_093933" src="https://github.com/user-attachments/assets/e9c27806-0632-408f-b208-b537a96fee65" />


#### 5.1.1 交易信息卡片使用场景
包括订单列表页、首页订单模块、用户主页交易记录、聊天页、单个道具交易列表页-相似交易推荐模块等。

**游戏差异点**：
| 维度 | GAG | BF | 待确认事项 |
|------|-----|-----|----------|
| **格子数量** | 固定6个道具格子 | 固定4个格子 | ✅ 已确认 |
| **关键元素** | 有token；有稀有度角标；有数量角标；最后一格有"x more"逻辑 | 无token；稀有度以格子颜色区分，无角标；无数量角标；最后一格无"x more"逻辑；增加"Permanent"类型标签（普通果实不展示，仅永久果实展示） | ✅ 已确认 |

**其他不变**：WFL提示、比例条、按钮等复用原有逻辑。
<img width="1000" height="384" alt="局部截取_20251231_140251" src="https://github.com/user-attachments/assets/f508d6d4-9093-4369-8277-3fced5efd599" />


#### 5.1.2 通用功能（可复用）
<img width="1339" height="224" alt="局部截取_20251229_175606" src="https://github.com/user-attachments/assets/87667e11-8bd0-437d-9197-4294f70601b3" />

红框处文案调整："pet" ->"item"

| 功能 | 说明 |
|------|------|
| **搜索** | 复用，支持按道具名称搜索|
| **筛选** | "用户是否在线"、"是否为open offer类订单"这2种通用维度的筛选直接复用；针对道具维度的"道具高级筛选"调整，细节见表格下方说明 |
| **排序** | 复用，按订单创建时间、offer value排序|
| **分页/加载更多** | 站内通用逻辑 |

**道具高级筛选**调整点：1）文案中pet全部改为item(根据情况更换大小写或单复数)；2）筛选逻辑不变，仅支持筛选的字段改为"道具种类 Category"、"道具稀有度 Rarity"、"果实属性（普通/永久）"。文案如视觉稿。
- **道具种类 Category**：Fruits/Limiteds/Gamepasses 3种选项。
- **道具稀有度 Rarity**：Common/Uncommon/Rare/Legendary/Mythical/Premium 6种。
- **果实类型（普通/永久）**：Physical/Permanent 2种。
  
<img width="595" height="435" alt="局部截取_20260107_173728" src="https://github.com/user-attachments/assets/bccca7ff-4969-47fd-8a4d-c50e2ba45284" />
<img width="1218" height="714" alt="局部截取_20251229_185013" src="https://github.com/user-attachments/assets/895c7602-d815-447e-8b92-43f4352af12a" />

**字段联动与互斥逻辑**

由于"果实类型（Physical/Permanent）"仅适用于Fruits类道具，因此需要处理与"道具种类Category"之间的联动关系：

| 用户选择的Category | 果实类型字段状态 | 说明 |
|-------------------|-----------------|------|
| 未选择任何Category | 可选 | 默认状态，用户可自由选择果实类型 |
| 仅选择Fruits | 可选 | 果实类型筛选有效 |
| 包含Fruits（如Fruits+Limiteds） | 可选 | 果实类型筛选仅对Fruits生效 |
| 仅选择Limiteds和/或Gamepasses（不含Fruits） | 置灰不可选 | 果实类型筛选对这两类无意义 |

**联动触发场景**：
1. **用户先选果实类型，后取消Fruits**：若用户已选择Physical或Permanent，随后在Category中取消勾选Fruits（仅保留Limiteds/Gamepasses），则果实类型字段自动清空并置灰。
2. **用户先选Category，后选果实类型**：若Category仅选了Limiteds/Gamepasses，则果实类型字段保持置灰状态，用户无法选择。
3. **清空筛选**：点击"Clear Filters"时，所有字段恢复默认可选状态。

---

### 5.2 组件-道具信息卡片（方案已确认）

#### 5.2.1 组件定位

| 维度 | 说明 |
|------|------|
| **复用程度** | UI/UX基本复用原有样式，根据游戏调整数据字段 |
| **使用场景** | 与GAG已有的道具信息卡片使用场景一致 |

#### 5.2.2 调整点
与GAG一样，信息卡片分为普通信息卡片（适用于常规的某类道具的信息展示，如道具列表、Wiki列表等）、交易信息卡片（仅在交易链路中展示具体某一交易道具的个体信息）。两者共用一套展示，仍按原交互逻辑，只有展示字段的区别。
<img width="1063" height="748" alt="局部截取_20260107_094135" src="https://github.com/user-attachments/assets/fba63740-f64c-497f-aa37-4d3de4ae8990" />

**2026/1/20补充逻辑**：道具普通信息卡片、交易信息卡片、交易信息弹窗-增加字段自动隐藏的分支逻辑：两种offer数量字段即使为0也都默认展示。

**BF道具-普通信息卡片字段信息：**（以下按展示顺序; ps，in-game money在游戏中名称为"Beli"）
- 道具图片
- 道具名称：文本的颜色对应稀有度颜色
- 获取方式
- 道具type：以标签形式展示，最多展示2个（只有2种样式-Chromatic为彩虹色标签样式，其他type共用另一个样式）
- 道具类型 Category：Fruit/Limited/Gamepass
- 如道具类型为Fruit：则展示
  - Physical Value: {Physical类型果实的价值数值}（以KMB标记）
  - Permanent Value: {Permanent类型果实的价值数值}（以KMB标记）
- 如道具类型非Fruit，则只展示"Value: {价值数值}（以KMB标记）
- Offer Orders：合计订单数量，不区分普通/永久
- Request Orders：合计订单数量，不区分普通/永久

**交易信息卡片的区别**：只展示具体这个道具是普通或永久及对应的value和Beli、Robux币值（非KMB，带千分位）；如为Fruit则在道具图标处带上普通/永久的角标（PHYS/PERM）。（永久果实、Limited、Gamepass的beli为0，不展示）

补充：
**BF里面value、金币、代币的区别**：
1、Value：我们平台根据公式、参数调整的市场价值，和GAG中value一个意思（家铭设计的那个字段）——在需求和前端展示中统一叫"Value"
2、Beli/Beli Value：指道具在游戏中的金币值，同时是游戏中计算交易价差的依据。但只有Fruits中普通类型（Physical）道具才有不同的Beli值，而Fruits中永久类型、Limited、gamepass这些特殊道具都是Beli值为0。
3、Robux：氪金的代币价格

---

### 5.4 组件-道具交易信息弹窗（方案已确认）

#### 5.4.1 组件定位

| 维度 | 说明 |
|------|------|
| **复用程度** | UI/UX复用原有样式，根据游戏调整数据字段 |
| **使用场景** | 与GAG已有的道具交易信息弹窗使用场景一致 |


#### 5.4.2 弹窗字段信息

- 道具图标：如为Fruit则在道具图标处带上普通/永久的角标（PHYS/PERM）
- 道具名称：支持点击跳转wiki详情页
- 获取方式
- 道具type：以标签形式展示，最多展示2个
- 道具类型 Category：Fruit/Limited/Gamepass
- 稀有度 Rarity
- Value: 展示具体这个道具对应的value值（以KMB标记）
- Beli: 展示具体这个道具对应的Beli值（以KMB标记）
- Robux: 展示具体这个道具对应的Robux值（非KMB，带千分位）
- 道具技能等级 Fruits Ranking：展示级别；支持点击，跳转BF tierlist页面
- Offer Orders：合计订单数量，不区分普通/永久；支持点击，交互逻辑与GAG弹窗中一致
- Request Orders：合计订单数量，不区分普通/永久；支持点击，交互逻辑与GAG弹窗一致
- 按钮VIEW MORE TRADES：交互逻辑与GAG弹窗一致
- 关闭弹窗

默认逻辑：如该道具没有以下哪个字段的数据，则该字段隐藏
---


### 5.5 组件-道具选择弹窗（方案已确认）
视觉稿：https://www.figma.com/design/4mDwVh4lJ2t1Yy7EcINY5t/UI-Kit?node-id=3300-1257&p=f&t=sgCQGbMGqkoaYeZV-0

#### 5.5.1 组件定位 

| 维度 | 说明 |
|------|------|
| **复用程度** | UI/UX基本复用原有样式，根据游戏调整道具类型tab和道具卡片展示字段和效果 |
| **使用场景** | 创建交易页、计算器页等 |


#### 5.5.2 弹窗内容
<img width="997" height="628" alt="局部截取_20260107_095446" src="https://github.com/user-attachments/assets/2b8d25c6-b346-4187-9f66-a32f09eaa991" />

**BF弹窗调整点**：
- tab选择道具类型Category：Fruits/Limiteds/Gamepasses
- 道具稀有度筛选 All Rarities (ps, GAG这里文案也改为复数Rarity->Rarities)：交互逻辑复用
- 道具网格式卡片：道具图片样式、稀有度角标带颜色、Value一行（如为Fruit则分别展示Physical/Permanent Value两类的value值，效果见视觉稿；如非Fruit则只展示单独一个value值）
其他不变 
---

### 5.6 组件-道具参数设置弹窗（方案已确认）

#### 5.6.1 组件定位

| 维度 | 说明 |
|------|------|
| **复用程度** | UI/UX复用原有样式，根据游戏调整具体参数选项 |
| **使用场景** | 创建交易、计算器页面时设置道具详细参数、开价时调整道具参数 |


#### 5.6.2 弹窗内容
<img width="692" height="425" alt="局部截取_20260107_100350" src="https://github.com/user-attachments/assets/dfaa5e69-a14d-470c-8a9f-69998990fb12" />

**BF参数设置弹窗-调整点**
**信息区数据展示**：如为Fruit则分别展示Physical/Permanent Value两类的value值和Physical Beli（永久果实没有Beli值），效果见视觉稿；如非Fruit则只展示单独一个value值）
设置选项仅有以下两个：

- Fruit Type：Physical/Permanent （如非Fruit类型，则该设置项置灰，不可选择）
- 数量设置（与GAG一样，按实时最大可添加道具数展示可添加数量的上限）

**底部value计算及文本提示**：BF和GAG一同取消。


---

## 六、版本变更记录

| 版本 | 日期 | 变更内容 | 作者 |
|------|------|----------|------|
| V1.0 | 2025-01-XX | 初始版本，建立MVP阶段需求清单 | 雪竹 |
| V1.1 | 2025-12-25 | 合并首页阶段一二为MVP直接公共首页；updatelog改为公共页面；giveaway改为公共页面；新增用户区场景区分逻辑 | 雪竹 |
